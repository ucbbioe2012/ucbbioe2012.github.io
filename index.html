<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anesthesiology Resident Quick Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10+ */
            user-select: none; /* Standard syntax */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Style for the PACU content to render markdown-like headers */
        .pacu-content h1 { font-size: 1.5rem; font-weight: 700; margin-top: 1.5rem; margin-bottom: 0.5rem; border-bottom: 1px solid #e2e8f0; padding-bottom: 0.25rem; }
        .pacu-content h2 { font-size: 1.25rem; font-weight: 600; margin-top: 1.25rem; margin-bottom: 0.5rem; }
        .pacu-content h3 { font-size: 1.1rem; font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; }
        .pacu-content p { margin-bottom: 0.75rem; line-height: 1.6; }
        .pacu-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 0.75rem; }
        .pacu-content ol { list-style-type: decimal; margin-left: 1.5rem; margin-bottom: 0.75rem; }
        .pacu-content table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
        .pacu-content th, .pacu-content td { border: 1px solid #cbd5e1; padding: 0.5rem; text-align: left; }
        .pacu-content th { background-color: #f1f5f9; }
        
        /* --- Smooth Roller Styles --- */
        .roller-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .roller-window {
            height: 60px;
            width: 100px;
            background-color: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative;
            cursor: ns-resize;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .roller-window.disabled {
            cursor: not-allowed;
            opacity: 0.6;
            background-color: #e5e7eb;
        }
        .roller-reel {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            transition: transform 0.2s ease-out; /* Animation */
        }
        .roller-number {
            height: 60px; /* Must match window height */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.875rem; /* Reduced font size */
            font-weight: 700;
            color: #1f2937;
        }
        /* Fading effect for numbers outside the center */
        .roller-window::before, .roller-window::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 20px;
            z-index: 1;
            pointer-events: none;
        }
        .roller-window::before {
            top: 0;
            background: linear-gradient(to bottom, #f9fafb, rgba(249, 250, 251, 0));
        }
        .roller-window::after {
            bottom: 0;
            background: linear-gradient(to top, #f9fafb, rgba(249, 250, 251, 0));
        }
        .roller-label {
            margin-top: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #4b5563;
        }

        /* --- Responsive Medication Table --- */
        @media (max-width: 767px) {
            #med-table thead {
                display: none;
            }
            #med-table tbody, #med-table tr, #med-table td {
                display: block;
                width: 100%;
            }
            #med-table tr {
                margin-bottom: 1rem;
                border-bottom: 2px solid #e2e8f0;
                padding-bottom: 1rem;
            }
            #med-table tr:last-child {
                margin-bottom: 0;
                border-bottom: 0;
                padding-bottom: 0;
            }
            #med-table tr.category-row {
                border-bottom: none;
                margin-bottom: 0;
                padding-bottom: 0;
            }
            #med-table td {
                display: flex;
                justify-content: space-between;
                padding: 0.5rem 0.25rem;
                text-align: right;
                border-bottom: 1px dotted #ccc;
                 word-break: break-word;
            }
            #med-table tr.category-row td {
                display: block;
                text-align: center;
                padding: 0.75rem;
                margin-top: 1rem;
            }
            #med-table td::before {
                content: attr(data-label);
                font-weight: 600;
                text-align: left;
                padding-right: 1rem;
                flex-shrink: 0;
            }
            #med-table td:last-child {
                border-bottom: none;
            }
        }

    </style>
</head>
<body class="bg-gray-100">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar -->
        <aside class="w-full md:w-64 bg-gray-800 text-white flex-shrink-0">
            <div class="p-4">
                <h1 class="text-xl font-bold text-center md:text-left">Anesco Guide</h1>
                <p class="text-sm text-gray-400 text-center md:text-left">Resident Quick Reference</p>
            </div>
             <nav class="w-full">
                <div class="flex flex-row md:flex-col">
                    <!-- Tab buttons -->
                    <button id="peds-tab-btn" class="flex-grow text-center p-3 md:p-4 md:text-left border-b-4 md:border-b-0 md:border-l-4 border-indigo-500 text-white bg-gray-700 hover:bg-gray-600 focus:outline-none transition-colors duration-200">
                        Pediatric Calculator
                    </button>
                    <button id="pacu-tab-btn" class="flex-grow text-center p-3 md:p-4 md:text-left border-b-4 md:border-b-0 md:border-l-4 border-transparent text-gray-300 hover:text-white hover:bg-gray-600 focus:outline-none transition-colors duration-200">
                        PACU Management
                    </button>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8 overflow-y-auto">
            
            <!-- Pediatric Calculator Content -->
            <div id="peds-content">
                <h2 class="text-xl md:text-2xl font-bold mb-6 text-gray-800">Pediatric Anesthesia Calculator</h2>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
                        <div id="age-roller-container" class="roller-container"></div>
                        <div id="weight-roller-container" class="roller-container"></div>
                        <div id="height-roller-container" class="roller-container"></div>
                    </div>

                    <div class="flex justify-center mt-4">
                         <div class="flex items-center">
                            <input id="preterm-checkbox" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                            <label for="preterm-checkbox" class="ml-2 block text-sm text-gray-900">Preterm</label>
                        </div>
                        <div class="ml-4">
                             <select id="age-unit" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                                <option value="years">Years</option>
                                <option value="months">Months</option>
                            </select>
                        </div>
                    </div>

                    <div class="mt-6 text-right">
                        <button id="calculate-btn" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Calculate
                        </button>
                    </div>
                </div>

                <div id="results" class="mt-8 hidden">
                    <h3 class="text-lg md:text-xl font-bold mb-4 text-gray-800">Results</h3>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h4 class="text-base md:text-lg font-semibold text-gray-700 mb-4">Airway Equipment</h4>
                        <div id="airway-results" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                            <!-- Airway results will be inserted here -->
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h4 class="text-base md:text-lg font-semibold text-gray-700 mb-4">Vitals</h4>
                        <div id="vitals-results" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                            <!-- Vitals results will be inserted here -->
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h4 class="text-base md:text-lg font-semibold text-gray-700 mb-4">Medication Dosages</h4>
                        <div class="overflow-x-auto">
                            <table id="med-table" class="min-w-full divide-y divide-gray-200 md:divide-y-0">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Medication</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Calculated Dose</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dose Range</th>
                                    </tr>
                                </thead>
                                <tbody id="med-table-body" class="bg-white divide-y divide-gray-200">
                                    <!-- Rows will be inserted here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>

            <!-- PACU Management Content -->
            <div id="pacu-content" class="hidden">
                <h2 class="text-xl md:text-2xl font-bold mb-6 text-gray-800">PACU Symptom Management</h2>
                
                <div class="relative bg-white p-6 rounded-lg shadow-md">
                    <label for="pacu-search" class="block text-sm font-medium text-gray-700">Search for a symptom</label>
                    <input type="text" id="pacu-search" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" placeholder="e.g., Hypertension, Hypoxia, Shivering...">
                    <div id="suggestions-box" class="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg hidden">
                        <!-- Suggestions will be populated here -->
                    </div>
                </div>

                <div id="pacu-result-display" class="mt-8 bg-white p-6 rounded-lg shadow-md hidden">
                    <!-- Selected symptom content will be displayed here -->
                </div>
            </div>
        </main>
    </div>

    <script>
        const App = {
            // --- INITIALIZATION ---
            init() {
                this.cacheDOMElements();
                this.setupTabSwitching();
                this.PedsCalculator.init();
                this.PacuManager.init();
            },

            // --- DOM ELEMENT CACHING ---
            cacheDOMElements() {
                this.dom = {
                    pedsTabBtn: document.getElementById('peds-tab-btn'),
                    pacuTabBtn: document.getElementById('pacu-tab-btn'),
                    pedsContent: document.getElementById('peds-content'),
                    pacuContent: document.getElementById('pacu-content'),
                };
            },

            // --- TAB SWITCHING LOGIC ---
            setupTabSwitching() {
                this.dom.pedsTabBtn.addEventListener('click', () => {
                    this.dom.pedsContent.classList.remove('hidden');
                    this.dom.pacuContent.classList.add('hidden');
                    this.updateTabStyles(this.dom.pedsTabBtn);
                });

                this.dom.pacuTabBtn.addEventListener('click', () => {
                    this.dom.pacuContent.classList.remove('hidden');
                    this.dom.pedsContent.classList.add('hidden');
                    this.updateTabStyles(this.dom.pacuTabBtn);
                });
            },
            
            updateTabStyles(activeButton) {
                [this.dom.pedsTabBtn, this.dom.pacuTabBtn].forEach(button => {
                    button.classList.remove('border-indigo-500', 'text-white', 'bg-gray-700');
                    button.classList.add('border-transparent', 'text-gray-300');
                });
                activeButton.classList.add('border-indigo-500', 'text-white', 'bg-gray-700');
                activeButton.classList.remove('border-transparent', 'text-gray-300');
            },

            // --- ROLLER FACTORY ---
            RollerFactory: {
                create(containerId, options) {
                    const { label, min, max, initial, step = 1, unit = '' } = options;
                    const container = document.getElementById(containerId);
                    
                    container.innerHTML = `
                        <div class="roller-window" id="${containerId}-window">
                            <div class="roller-reel" id="${containerId}-reel"></div>
                        </div>
                        <span class="roller-label">${label}</span>
                    `;

                    const rollerWindow = document.getElementById(`${containerId}-window`);
                    const reel = document.getElementById(`${containerId}-reel`);
                    
                    let currentValue = initial;
                    let isDragging = false;
                    let startY = 0;
                    let startValue = 0;
                    let isEnabled = true;
                    const itemHeight = 60; // Corresponds to .roller-number height

                    // Generate the number reel
                    for (let i = min; i <= max; i += step) {
                        const numberEl = document.createElement('div');
                        numberEl.className = 'roller-number';
                        numberEl.textContent = `${i.toFixed(step < 1 ? 1 : 0)}${unit}`;
                        reel.appendChild(numberEl);
                    }

                    const setValue = (val, animate = true) => {
                        const constrainedVal = Math.max(min, Math.min(max, val));
                        const newValue = Math.round(constrainedVal / step) * step;
                        currentValue = newValue;
                        
                        const targetIndex = (newValue - min) / step;
                        const translateY = -targetIndex * itemHeight;
                        
                        reel.style.transition = animate ? 'transform 0.2s ease-out' : 'none';
                        reel.style.transform = `translateY(${translateY}px)`;
                    };

                    const handleMove = (e) => {
                        if (!isDragging || !isEnabled) return;
                        e.preventDefault(); // Prevent page scroll
                        const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                        const deltaY = startY - clientY;
                        
                        const sensitivity = 5; // Lower is more sensitive
                        const valueChange = deltaY / sensitivity;
                        
                        const newValue = startValue + valueChange;
                        setValue(newValue, false); // No animation while dragging
                    };

                    const stopDrag = () => {
                        isDragging = false;
                        document.removeEventListener('mousemove', handleMove);
                        document.removeEventListener('mouseup', stopDrag);
                        document.removeEventListener('touchmove', handleMove);
                        document.removeEventListener('touchend', stopDrag);
                        // Snap to nearest value on release
                        setValue(currentValue, true);
                    };
                    
                    const startDrag = (e) => {
                        if (!isEnabled) return;
                        isDragging = true;
                        startY = e.touches ? e.touches[0].clientY : e.clientY;
                        startValue = currentValue;
                        reel.style.transition = 'none'; // Disable transition during drag
                        document.addEventListener('mousemove', handleMove);
                        document.addEventListener('mouseup', stopDrag);
                        document.addEventListener('touchmove', handleMove, { passive: false });
                        document.addEventListener('touchend', stopDrag);
                    };

                    rollerWindow.addEventListener('mousedown', startDrag);
                    rollerWindow.addEventListener('touchstart', startDrag, { passive: false });
                    
                    setValue(initial, false); // Set initial position without animation

                    return {
                        getValue: () => currentValue,
                        setEnabled: (enabled) => {
                            isEnabled = enabled;
                            rollerWindow.classList.toggle('disabled', !enabled);
                        }
                    };
                }
            },
            
            // --- MODULE FOR PEDIATRIC CALCULATOR ---
            PedsCalculator: {
                 data: [
                    { medication: "Midazolam (PO)", dose: "1 mg/kg", note: "max 20mg", category: "Pre-medications", color: "orange" },
                    { medication: "Midazolam (IV)", dose: "0.1 mg/kg", note: "max 2mg", category: "Pre-medications", color: "orange" },
                    { medication: "Propofol induction (IV)", dose: "3 mg/kg", category: "Induction Medications", color: "yellow" },
                    { medication: "Ketamine induction (IV)", dose: "1 mg/kg", category: "Induction Medications", color: "yellow" },
                    { medication: "Ketamine induction (IM)", dose: "4 mg/kg", category: "Induction Medications", color: "yellow" },
                    { medication: "Lidocaine (IV)", dose: "1.5 mg/kg", note: "max 100mg", category: "Induction Medications" },
                    { medication: "Succinylcholine RSI (IV)", dose: "2 mg/kg", category: "Induction Medications", color: "red" },
                    { medication: "Succinylcholine RSI (IM)", dose: "5 mg/kg", category: "Induction Medications", color: "red" },
                    { medication: "Rocuronium (IV)", dose: "0.6 mg/kg", category: "Induction Medications", color: "red" },
                    { medication: "Rocuronium RSI (IV)", dose: "1.2 mg/kg", category: "Induction Medications", color: "red" },
                    { medication: "Tylenol (IV)", dose: "10-15 mg/kg", note: "age-dependent", category: "Pain" },
                    { medication: "Fentanyl (Intranasal)", dose: "2 mcg/kg", category: "Pain", color: "blue" },
                    { medication: "Fentanyl (IV)", dose: "1.5 mcg/kg", category: "Pain", color: "blue" },
                    { medication: "Morphine (IV)", dose: "0.05 mg/kg", category: "Pain", color: "blue" },
                    { medication: "Hydromorphone (IV)", dose: "0.015 mg/kg", category: "Pain", color: "blue" },
                    { medication: "Dexmedetomidine bolus (IV)", dose: "0.5 mcg/kg", note: "max 20mcg", category: "Pain", color: "yellow" },
                    { medication: "Ketorolac (IV)", dose: "0.5 mg/kg", note: "max 30mg", category: "Pain" },
                    { medication: "Dexamethasone (IV)", dose: "0.1 mg/kg", note: "max 10mg", category: "PONV Medications" },
                    { medication: "Ondansetron (IV)", dose: "0.15 mg/kg", note: "max 4mg", category: "PONV Medications" },
                    { medication: "Cefazolin (IV)", dose: "30 mg/kg", note: "weight-dependent max", category: "Antibiotics" },
                    { medication: "Ephedrine (IV)", dose: "0.1 mg/kg", category: "Emergency Medications", color: "purple" },
                    { medication: "Phenylephrine (IV)", dose: "1 mcg/kg", category: "Emergency Medications", color: "purple" },
                    { medication: "Epinephrine (arrest) (IV/ETT)", dose: "10 mcg/kg", category: "Emergency Medications", color: "purple" },
                    { medication: "Epinephrine (bolus or bronchospasm) (IV)", dose: "1 mcg/kg", category: "Emergency Medications", color: "purple" },
                    { medication: "Atropine (IV)", dose: "0.02 mg/kg", note: "age-dependent max", category: "Emergency Medications", color: "green" },
                    { medication: "Succinylcholine (Laryngospasm) (IV)", dose: "0.1 mg/kg", category: "Emergency Medications", color: "red" },
                    { medication: "Succinylcholine (Laryngospasm) (IM)", dose: "0.5 mg/kg", category: "Emergency Medications", color: "red" },
                    { medication: "Calcium", dose: "10 mg/kg", category: "Emergency Medications" },
                    { medication: "Propofol (Laryngospasm)", dose: "1 mg/kg", category: "Emergency Medications", color: "yellow" },
                ],
                init() {
                    this.cacheDOMElements();
                    
                    this.ageRoller = App.RollerFactory.create('age-roller-container', { label: 'Age', min: 0, max: 18, initial: 5, step: 1 });
                    this.weightRoller = App.RollerFactory.create('weight-roller-container', { label: 'Weight', min: 1, max: 150, initial: 20, step: 1, unit: 'kg' });
                    this.heightRoller = App.RollerFactory.create('height-roller-container', { label: 'Height', min: 40, max: 220, initial: 110, step: 1, unit: 'cm' });

                    this.elements.calculateBtn.addEventListener('click', () => this.calculate());
                    this.elements.pretermCheckbox.addEventListener('change', () => this.handlePreterm());
                },
                cacheDOMElements() {
                    this.elements = {
                        calculateBtn: document.getElementById('calculate-btn'),
                        ageUnitSelect: document.getElementById('age-unit'),
                        pretermCheckbox: document.getElementById('preterm-checkbox'),
                        resultsDiv: document.getElementById('results'),
                        airwayResultsDiv: document.getElementById('airway-results'),
                        vitalsResultsDiv: document.getElementById('vitals-results'),
                        medTableBody: document.getElementById('med-table-body'),
                    };
                },
                handlePreterm() {
                    const isChecked = this.elements.pretermCheckbox.checked;
                    this.ageRoller.setEnabled(!isChecked);
                    this.elements.ageUnitSelect.disabled = isChecked;
                },
                calculate() {
                    const isPreterm = this.elements.pretermCheckbox.checked;
                    const age = this.ageRoller.getValue();
                    const ageUnit = this.elements.ageUnitSelect.value;
                    const weight = this.weightRoller.getValue();
                    const height = this.heightRoller.getValue();

                    if (isNaN(weight) || weight <= 0) {
                        alert('Please enter a valid weight.');
                        return;
                    }
                    if (!isPreterm && (isNaN(age) || age < 0)) {
                         alert('Please enter a valid age.');
                         return;
                    }
                    
                    let ageInYears = isPreterm ? -1 : (ageUnit === 'years' ? age : age / 12);
                    
                    this.calculateAirway(ageInYears, height, isPreterm);
                    this.calculateVitals(ageInYears, weight, isPreterm);
                    this.calculateMedications(weight, ageInYears);

                    this.elements.resultsDiv.classList.remove('hidden');
                },
                calculateAirway(ageInYears, height, isPreterm) {
                    let ettCuffed, etDepth, laryngoscope, lma, mask;
                    let ettCuffedValueForDepth = 0;

                    if (isPreterm) {
                        ettCuffed = "2.5 - 3.0"; ettCuffedValueForDepth = 2.75;
                    } else if (ageInYears < (1/12)) {
                        ettCuffed = "3.0"; ettCuffedValueForDepth = 3.0;
                    } else if (ageInYears < 1) {
                        ettCuffed = "3.5"; ettCuffedValueForDepth = 3.5;
                    } else if (ageInYears < 12) {
                        const calculatedEtt = (ageInYears / 4) + 3.5;
                        ettCuffed = (Math.round(calculatedEtt * 2) / 2).toFixed(1);
                        ettCuffedValueForDepth = parseFloat(ettCuffed);
                    } else {
                        if (isNaN(height)) { 
                            ettCuffed = "Height required";
                        } else if (height < 160) { 
                            ettCuffed = "6.5"; ettCuffedValueForDepth = 6.5;
                        } else if (height >= 160 && height < 175) { 
                            ettCuffed = "7.0"; ettCuffedValueForDepth = 7.0;
                        } else if (height >= 175 && height < 185) { 
                            ettCuffed = "7.5"; ettCuffedValueForDepth = 7.5;
                        } else { 
                            ettCuffed = "8.0"; ettCuffedValueForDepth = 8.0; 
                        }
                    }

                    etDepth = ettCuffedValueForDepth > 0 ? (3 * ettCuffedValueForDepth).toFixed(1) + " cm" : "N/A";

                    if (isPreterm) laryngoscope = "Miller 00";
                    else if (ageInYears < (1/12)) laryngoscope = "Miller 0";
                    else if (ageInYears < 1) laryngoscope = "Miller 1";
                    else if (ageInYears < 4) laryngoscope = "Miller 1.5";
                    else laryngoscope = "Miller 2";

                    if (isPreterm) lma = "1";
                    else if (ageInYears < (1/12)) lma = "1";
                    else if (ageInYears < 1) lma = "1.5";
                    else if (ageInYears < 5) lma = "2";
                    else if (ageInYears < 8) lma = "2.5";
                    else lma = "3+";

                    if (isPreterm) {
                        mask = "0";
                    } else if (ageInYears < (1/12)) { // 0-1 month
                        mask = "1";
                    } else if (ageInYears < 3) { // 1 month to 2 years
                        mask = "2";
                    } else if (ageInYears < 5) { // 3-4 years
                        mask = "3";
                    } else if (ageInYears < 8) { // 5-7 years
                        mask = "4";
                    } else { // 8+ years
                        mask = "5 (Adult)";
                    }

                    this.elements.airwayResultsDiv.innerHTML = `
                        <div><dt class="text-sm font-medium text-gray-500">ETT (cuffed)</dt><dd class="mt-1 text-lg font-semibold text-indigo-600">${ettCuffed}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">ET Depth</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${etDepth}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">Laryngoscope</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${laryngoscope}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">LMA #</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${lma}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">Mask #</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${mask}</dd></div>
                    `;
                },
                calculateVitals(ageInYears, weight, isPreterm) {
                    let bp, rr, hr, ebv, hct;

                    if (isPreterm) {
                        bp = "PCA in wks"; rr = "30-60"; hr = "100-180"; ebv = 100 * weight; hct = "45 (40-55)";
                    } else if (ageInYears < (1/12)) {
                        bp = "40"; rr = "40-55"; hr = "140"; ebv = 90 * weight; hct = "55 (40-60)";
                    } else if (ageInYears < 1) {
                        bp = "40"; rr = "25-45"; hr = "120"; ebv = 80 * weight; hct = "36 (28-42)";
                    } else if (ageInYears < 4) {
                        bp = Math.round(Math.min(65, 40 + (2 * ageInYears))); rr = "18-35"; hr = "110"; ebv = 75 * weight; hct = "38 (32-45)";
                    } else if (ageInYears < 8) {
                        bp = Math.round(Math.min(65, 40 + (2 * ageInYears))); rr = "16-30"; hr = "100"; ebv = 70 * weight; hct = "38 (32-45)";
                    } else {
                        bp = Math.round(Math.min(65, 40 + (2 * ageInYears))); rr = "12-20"; hr = "80"; ebv = 70 * weight; hct = "38 (32-45)";
                    }

                    this.elements.vitalsResultsDiv.innerHTML = `
                        <div><dt class="text-sm font-medium text-gray-500">BP (MAP)</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${bp}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">RR</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${rr}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">HR</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${hr}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">EBV (mL)</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${Math.round(ebv)}</dd></div>
                        <div><dt class="text-sm font-medium text-gray-500">Hct</dt><dd class="mt-1 text-lg font-semibold text-gray-900">${hct}</dd></div>
                    `;
                },
                calculateMedications(weight, ageInYears) {
                    this.elements.medTableBody.innerHTML = '';
                    let currentCategory = "";
                    const colorMap = {
                        orange: 'bg-orange-200', yellow: 'bg-yellow-200', blue: 'bg-blue-200',
                        purple: 'bg-purple-200', green: 'bg-green-200', red: 'bg-red-200'
                    };

                    this.data.forEach(med => {
                        if (med.category !== currentCategory) {
                            currentCategory = med.category;
                            const categoryRow = document.createElement('tr');
                            categoryRow.className = 'category-row';
                            categoryRow.innerHTML = `<td colspan="3" class="px-6 py-3 bg-gray-200 text-sm font-bold text-gray-800">${currentCategory}</td>`;
                            this.elements.medTableBody.appendChild(categoryRow);
                        }

                        const row = document.createElement('tr');
                        const calculatedDose = this.calculateDose(med, weight, ageInYears);
                        const fullDoseString = med.note ? `${med.dose} (${med.note})` : med.dose;
                        const colorClass = med.color ? colorMap[med.color] : '';
                        
                        if (colorClass) row.classList.add(colorClass);
                        
                        row.innerHTML = `
                            <td data-label="Medication" class="px-6 py-4 whitespace-nowrap text-sm font-medium">${med.medication}</td>
                            <td data-label="Calculated Dose" class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-semibold">${calculatedDose}</td>
                            <td data-label="Dose Range" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${fullDoseString}</td>
                        `;
                        this.elements.medTableBody.appendChild(row);
                    });
                },
                calculateDose(med, weight, ageInYears) {
                    const { medication, dose, note } = med;
                    const format = (num) => (num < 1 ? num.toFixed(2) : Math.round(num).toString());

                    // --- Special Cases ---
                    if (medication.includes("Tylenol")) {
                        const dosePerKg = ageInYears < 2 ? 10 : 15;
                        const calculatedDose = dosePerKg * weight;
                        const finalDose = Math.min(calculatedDose, 1000);
                        return `${format(finalDose)} mg`;
                    }
                    if (medication.includes("Cefazolin")) {
                        const calculatedDose = 30 * weight;
                        const maxDose = weight < 120 ? 2000 : 3000;
                        const finalDose = Math.min(calculatedDose, maxDose);
                        return `${format(finalDose)} mg`;
                    }
                    if (medication.includes("Atropine")) {
                        const calculatedDose = 0.02 * weight;
                        const maxDose = ageInYears < 12 ? 0.5 : 1.0;
                        const finalDose = Math.min(calculatedDose, maxDose);
                        return `${finalDose.toFixed(2)} mg`;
                    }

                    // --- Generic Parser ---
                    const doseMatch = dose.match(/([\d\.-]+)/g) || [];
                    const numbers = doseMatch.map(parseFloat);
                    if (numbers.length === 0) return 'N/A';

                    let calculatedDoseValue = numbers[0] * weight;

                    if (note && note.includes('max')) {
                        const maxDoseMatch = note.match(/max ([\d\.]+)/);
                        if (maxDoseMatch && maxDoseMatch[1]) {
                            const maxDose = parseFloat(maxDoseMatch[1]);
                            if (!isNaN(maxDose)) {
                                calculatedDoseValue = Math.min(calculatedDoseValue, maxDose);
                            }
                        }
                    }
                    
                    const finalDoseText = format(calculatedDoseValue);
                    const unit = (dose.match(/(mcg|mg)/) || ['unit'])[0];
                    return `${finalDoseText} ${unit}`;
                }
            },

            // --- MODULE FOR PACU MANAGEMENT ---
            PacuManager: {
                data: [
                    { symptom: "Hypertension", content: `<h3>Key Points</h3><ul><li>Definition: Systolic blood pressure (SBP) > 160 mmHg, diastolic blood pressure (DBP) > 90 mmHg, or an elevation of 20-30% above the patient's baseline.</li><li>Primary Cause: Pain is the most common cause of secondary hypertension in the PACU.</li><li>Initial Approach: Management should always be directed at identifying and treating the underlying cause before initiating antihypertensive medications.</li><li>Urgent Treatment: Direct antihypertensive therapy is warranted for severe elevations associated with end-organ damage (e.g., cardiac ischemia, encephalopathy) or in patients after high-risk procedures (e.g., carotid endarterectomy, intracranial surgery).</li></ul><h3>Common Secondary Causes of Postoperative Hypertension</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>A</td><td>Analgesic deficiency (Pain), Anxiety, Autonomic dysreflexia</td></tr><tr><td>B</td><td>Bladder distension, Disordered Breathing (Hypoxia, Hypercapnia)</td></tr><tr><td>C</td><td>Catecholamines (stress response), Cold (Hypothermia)</td></tr><tr><td>D</td><td>Drugs (e.g., vasopressors, ketamine), Drug withdrawal (β-blockers, α-agonists)</td></tr><tr><td>E</td><td>Emergence excitation, Elevated Intracranial Pressure (ICP), Excessive hydration</td></tr></table><h3>Decision Tree: Management of Postoperative Hypertension</h3><ol><li>Patient presents with Hypertension in PACU. Assess Airway, Breathing, Circulation. Is the patient hypoxic or hypercapnic? Yes: Correct the underlying respiratory abnormality. Reassess BP. No: Proceed to step 2.</li><li>Is urgent treatment needed? (Signs of end-organ damage or high-risk surgery) Yes: Administer a fast-acting, titratable IV antihypertensive. (e.g., Labetalol 5-20 mg IV, Esmolol 0.5 mg/kg bolus, Hydralazine 5-10 mg IV). No: Proceed to step 3.</li><li>Search for and treat the underlying secondary cause.<ul><li>Pain? -> Provide analgesia.</li><li>Bladder distension? -> Perform bladder scan; catheterize if necessary.</li><li>Hypothermia? -> Actively rewarm patient.</li><li>Anxiety/Emergence Excitation? -> Provide reassurance; consider small doses of anxiolytics.</li><li>Drug Withdrawal? -> Resume or replace medication.</li></ul></li><li>If hypertension persists, administer IV antihypertensive medication as in step 2.</li></ol>` },
                    { symptom: "Hypotension", content: `<h3>Key Points</h3><ul><li>Definition: SBP < 90 mmHg, Mean Arterial Pressure (MAP) < 60 mmHg, or a drop of 20-30% below baseline.</li><li>Primary Cause: Most postoperative hypotension is due to hypovolemia and is responsive to fluid administration.</li><li>Initial Approach: Assess for signs of inadequate organ perfusion. A fluid challenge is appropriate for most patients.</li><li>Critical Considerations: Maintain a high degree of suspicion for occult hemorrhage, myocardial ischemia, or sepsis.</li></ul><h3>Differential Diagnosis of Postoperative Hypotension</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>Decreased Preload</td><td>Hypovolemia (hemorrhage, third-spacing), Venodilation (neuraxial/residual anesthetics), Increased intrathoracic pressure (tension pneumothorax, auto-PEEP)</td></tr><tr><td>Decreased Cardiac Output</td><td>Bradycardia, Tachyarrhythmias, Myocardial ischemia/infarction, Cardiac tamponade</td></tr><tr><td>Decreased SVR</td><td>Sepsis, Anaphylaxis, Systemic Inflammatory Response Syndrome (SIRS), Adrenal insufficiency</td></tr></table><h3>Decision Tree: Management of Postoperative Hypotension</h3><ol><li>Patient presents with Hypotension in PACU. Assess ABCs. Ensure adequate oxygenation.</li><li>Administer a fluid challenge (e.g., 500 mL crystalloid) unless contraindicated. Assess response.<ul><li>BP Improves: Likely hypovolemia. Continue fluid resuscitation as needed.</li><li>No/Transient Improvement: Proceed to step 3.</li></ul></li><li>Evaluate for other causes.<ul><li>Heart Rate: Bradycardia? Tachycardia? -> Obtain 12-lead ECG.</li><li>Hemorrhage? (Surgical site, drains, falling hematocrit) -> Aggressive resuscitation, notify surgeon, prepare for OR.</li><li>Low SVR? (Warm extremities) -> Consider sepsis/anaphylaxis. Start vasopressors (e.g., norepinephrine).</li><li>Cardiac Dysfunction? (New ECG changes, JVD, rales) -> Consider MI/heart failure. Obtain ECG, enzymes, consider echo. Start inotropes/vasopressors.</li><li>Obstruction? (Tension pneumothorax, tamponade) -> Immediate needle decompression or pericardiocentesis.</li></ul></li><li>If cause is unclear, place an arterial line and titrate vasopressors to maintain perfusion.</li></ol>` },
                    { symptom: "Dysrhythmia", content: `<h3>Key Points</h3><ul><li>New perioperative dysrhythmias require prompt assessment of adequacy of ventilation, hemodynamics, electrolytes, and possible cardiac ischemia.</li><li>Atrial fibrillation is common and often related to atrial stretch from volume shifts.</li><li>Many dysrhythmias are transient and require only supportive care.</li></ul><h3>Decision Tree: Management of Postoperative Dysrhythmia</h3><ol><li>New Dysrhythmia Detected. Assess patient stability. Is the patient hypotensive, altered, or showing signs of ischemia? Yes (Unstable): Follow ACLS algorithms immediately (e.g., synchronized cardioversion for unstable tachycardia). No (Stable): Proceed to step 2.</li><li>Identify the rhythm.<ul><li>Rate: Bradycardia (<60 bpm) or Tachycardia (>100 bpm)?</li><li>Rhythm: Regular or Irregular?</li><li>QRS: Narrow (<0.12s) or Wide (>0.12s)?</li></ul></li><li>Treat based on rhythm and stability.<ul><li>Stable Bradycardia: Symptomatic? -> Atropine 0.5-1 mg IV. If refractory, consider epinephrine/dopamine infusion or pacing.</li><li>Stable Narrow-Complex Tachycardia (SVT): Regular? -> Vagal maneuvers, then Adenosine 6-12 mg IV.</li><li>Stable Atrial Fibrillation/Flutter: Rate control with Metoprolol 1-5 mg IV or Diltiazem.</li><li>Stable Wide-Complex Tachycardia: Regular? -> Consider VT. Amiodarone 150 mg IV over 10 min. Consult cardiology.</li></ul></li><li>Investigate and treat underlying causes: Hypoxia, electrolyte imbalance (K+, Mg++), ischemia, pain, residual drug effects.</li></ol>` },
                    { symptom: "Chest Pain", content: `<h3>Key Points</h3><ul><li>Postoperative myocardial ischemia may be silent; hemodynamic instability should raise suspicion.</li><li>A high index of suspicion for pulmonary embolism or pneumothorax is crucial.</li><li>Referred pain to the left shoulder from diaphragmatic irritation after laparoscopy is common and benign.</li></ul><h3>Decision Tree: Management of Postoperative Chest Pain</h3><ol><li>Patient reports Chest Pain. Assess ABCs and obtain vital signs. Administer oxygen.</li><li>Obtain 12-lead ECG and cardiac biomarkers (Troponin). Evaluate ECG and clinical picture. Signs of Myocardial Ischemia/Infarction? (ST changes, new LBBB) Yes: Initiate MONA-B protocol (Morphine, Oxygen, Nitroglycerin, Aspirin, Beta-blocker). Use Aspirin with caution and in consultation with surgeon. Urgent cardiology consult. No: Proceed to step 3.</li><li>Consider Pulmonary Causes.<ul><li>Pulmonary Embolism suspected? (Pleuritic pain, hypoxia, tachycardia) -> CT Angiogram. If positive, start anticoagulation (weighing bleeding risk) and consult specialists.</li><li>Pneumothorax suspected? (Unilateral decreased breath sounds, tracheal deviation) -> Chest X-ray. If tension, perform immediate needle decompression followed by chest tube.</li></ul></li><li>Consider other causes.<ul><li>Recent Laparoscopy? (Shoulder tip pain) -> Likely referred pain. Provide reassurance and analgesics (NSAIDs).</li><li>Musculoskeletal Pain? (Reproducible with palpation/movement) -> Provide analgesics.</li><li>GI causes? (Esophageal spasm, reflux) -> Consider trial of antacids.</li></ul></li></ol>` },
                    { symptom: "ECG Changes", content: `<h3>Key Points</h3><ul><li>Non-specific ECG changes are common after surgery.</li><li>ST-segment depression or elevation should raise suspicion for cardiac ischemia.</li><li>Mild QT-interval prolongation is frequently observed and often related to medications (e.g., ondansetron).</li></ul><h3>Decision Tree: Management of New ECG Changes</h3><ol><li>New ECG Change Noted on Monitor. Assess the patient and vital signs immediately. Are they stable?</li><li>Obtain a 12-lead ECG to confirm and characterize the change. Compare with preoperative ECG.</li><li>Identify the Change.<ul><li>Rate/Rhythm Change? -> Refer to Dysrhythmia algorithm (Chapter 3).</li><li>ST-Segment Elevation/Depression? -> High suspicion for ischemia. Treat as Acute Coronary Syndrome (Chapter 4).</li><li>T-Wave Inversion? -> Can indicate ischemia. Correlate with symptoms and troponins.</li><li>New Conduction Abnormality (e.g., LBBB)? -> High suspicion for ischemia. Treat as ACS.</li><li>QTc Prolongation? -> Review medications (ondansetron, droperidol, etc.). Check electrolytes, especially K+, Mg++, Ca++. Avoid other QT-prolonging drugs. If associated with Torsades de Pointes, treat with IV Magnesium.</li></ul></li><li>If no clear ischemic cause, monitor closely and correct any underlying electrolyte or metabolic disturbances.</li></ol>` },
                    { symptom: "Heart Failure", content: `<h3>Key Points</h3><ul><li>Postoperative heart failure can occur in patients with or without a prior cardiac history.</li><li>Key signs include shortness of breath, hypoxia, crackles on auscultation, and hypotension.</li><li>Initial work-up should rule out myocardial ischemia and assess volume status.</li></ul><h3>Decision Tree: Management of Postoperative Heart Failure</h3><ol><li>Patient presents with signs of Heart Failure (dyspnea, hypoxia, rales). Assess ABCs. Sit patient upright. Administer 100% Oxygen. Consider non-invasive positive pressure ventilation (NIPPV) or intubation if respiratory distress is severe.</li><li>Assess Hemodynamic Status. Hypotensive (Cardiogenic Shock)? Yes: Call for help (Cardiology/ICU). Start vasopressor/inotropic support (e.g., Norepinephrine, Dobutamine). Obtain ECG and Troponin to rule out MI. Urgent echocardiogram is critical. No (Normotensive/Hypertensive): Proceed to step 3.</li><li>Initiate Medical Therapy.<ul><li>Reduce Preload: Administer IV loop diuretic (e.g., Furosemide 20-40 mg IV).</li><li>Reduce Afterload (if hypertensive): Administer vasodilator (e.g., Nitroglycerin IV infusion).</li></ul></li><li>Investigate and Treat Precipitating Factors.<ul><li>Myocardial Ischemia (most common precipitant).</li><li>Uncontrolled Hypertension.</li><li>Arrhythmias (especially rapid atrial fibrillation).</li><li>Fluid overload.</li></ul></li><li>Admit to a higher level of care (ICU/step-down) for continued monitoring and management.</li></ol>` },
                    { symptom: "Hemorrhage", content: `<h3>Key Points</h3><ul><li>Occult Bleeding: May present only as unexplained hypotension and tachycardia.</li><li>Lab Lag: Acute hemorrhage may not immediately lower hemoglobin or hematocrit levels. Serial measurements are key.</li><li>Two Main Causes: Differentiate between inadequate surgical hemostasis ("silk deficiency") and medical coagulopathy.</li><li>Aggressive Resuscitation: The goal is to restore volume and correct coagulopathy simultaneously.</li></ul><h3>Differential Diagnosis of Postoperative Hemorrhage</h3><table><tr><th>Category</th><th>Common Causes & Signs</th></tr><tr><td>Surgical/Technical</td><td>Inadequate hemostasis, slipped ligature. Signs: Sanguineous drain output, soaked dressings, expanding hematoma.</td></tr><tr><td>Medical/Coagulopathy</td><td>Dilutional coagulopathy (from massive resuscitation), hypothermia, acidosis, hyperfibrinolysis, pre-existing bleeding disorders, anticoagulant effect. Signs: Diffuse oozing from IV sites and raw surfaces.</td></tr></table><h3>Decision Tree: Management of Postoperative Hemorrhage</h3><ol><li>Patient is Hypotensive/Tachycardic, suspected Hemorrhage. Assess ABCs. Establish large-bore IV access (at least two).</li><li>Begin volume resuscitation with crystalloids while awaiting blood products.</li><li>Notify surgeon and blood bank immediately. Announce potential for massive transfusion.</li><li>Investigate the Source.<ul><li>Examine surgical site, drains, and dressings.</li><li>Send STAT labs: CBC, PT/PTT/INR, Fibrinogen, Type & Cross. Consider TEG/ROTEM if available.</li><li>Consider imaging (FAST exam, CT scan) if source is unclear and patient is stable enough for transport.</li></ul></li><li>Is bleeding primarily surgical? Yes: Prepare for immediate return to the operating room for surgical control.</li><li>Is there evidence of coagulopathy? (INR > 1.5, platelets < 75k, fibrinogen < 150 mg/dL, or TEG/ROTEM abnormalities) Yes: Correct with component therapy. A balanced ratio (e.g., 1:1:1 of PRBCs:FFP:Platelets) is often used initially in massive hemorrhage.<ul><li>FFP for elevated INR.</li><li>Platelets for thrombocytopenia.</li><li>Cryoprecipitate for low fibrinogen.</li></ul></li><li>Correct contributing factors: Treat hypothermia with active rewarming and correct severe acidosis.</li></ol>` },
                    { symptom: "Anemia", content: `<h3>Key Points</h3><ul><li>No "Magic Number": The decision to transfuse should be based on the patient's clinical status, not just a single hemoglobin (Hgb) value.</li><li>Common Causes: Postoperative anemia is due to a combination of surgical blood loss, hemodilution, and impaired erythropoiesis from the inflammatory response.</li><li>Disproportionate Anemia: A drop in Hgb greater than expected from the estimated blood loss (EBL) warrants investigation for occult bleeding or hemolysis.</li></ul><h3>Differential Diagnosis of Disproportionate Postoperative Anemia</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>Blood Loss</td><td>Occult hemorrhage (retroperitoneal, thoracic, thigh), inaccurate EBL.</td></tr><tr><td>Hemodilution</td><td>Aggressive intraoperative fluid resuscitation. Hgb will trend up as fluid equilibrates.</td></tr><tr><td>Hemolysis</td><td>Transfusion reaction, drug-induced, mechanical (cardiac valves, VADs), underlying condition (e.g., G6PD deficiency).</td></tr><tr><td>Decreased Production</td><td>Anemia of inflammation (acute effect of surgery), pre-existing nutritional deficiency.</td></tr></table><h3>Decision Tree: Management of Postoperative Anemia</h3><ol><li>Patient is anemic postoperatively. Is the patient hemodynamically unstable or actively bleeding? Yes: Refer to Hemorrhage algorithm (Chapter 7). Transfuse to restore volume and oxygen-carrying capacity. No: Proceed to step 2.</li><li>Assess for signs and symptoms of anemia: Tachycardia, dyspnea on exertion, chest pain, pallor, fatigue.</li><li>Evaluate Hemoglobin Level.<ul><li>Hgb < 7 g/dL: Transfusion of packed red blood cells (PRBCs) is generally indicated.</li><li>Hgb 7-10 g/dL: Decision to transfuse is individualized. Transfuse if: Patient is symptomatic, has significant cardiac disease, or has potential for ongoing bleeding. Observe if: Patient is asymptomatic and hemodynamically stable.</li><li>Hgb > 10 g/dL: Transfusion is rarely indicated.</li></ul></li><li>Is the degree of anemia unexpected? Yes: Investigate for occult bleeding (imaging) or hemolysis (check LDH, haptoglobin, bilirubin, Coombs' test).</li></ol>` },
                    { symptom: "Hypoxia", content: `<h3>Key Points</h3><ul><li>Very Common: Hypoxia (SpO2 < 92%) is a frequent PACU event.</li><li>Primary Causes: Hypoventilation and atelectasis are the most common culprits.</li><li>Initial Response: Most cases respond to simple maneuvers and supplemental oxygen.</li><li>Vigilance Required: Continuous pulse oximetry is essential, as clinical signs are unreliable.</li></ul><h3>Common Causes of Postoperative Hypoxia</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>Airway Obstruction</td><td>Tongue falling back, laryngospasm, edema, hematoma.</td></tr><tr><td>Parenchymal/Vascular</td><td>Atelectasis, pulmonary edema, pulmonary embolism, aspiration pneumonitis.</td></tr><tr><td>Ventilatory Failure</td><td>Hypoventilation from residual anesthetics, opioids, or neuromuscular blockade.</td></tr><tr><td>Other</td><td>Bronchospasm, pneumothorax.</td></tr></table><h3>Decision Tree: Management of Postoperative Hypoxia</h3><ol><li>Patient has SpO2 < 92%. Assess Airway: Is it patent? -> Perform jaw thrust/chin lift, insert oral/nasal airway if needed.</li><li>Assess Breathing: Is the patient making adequate respiratory effort? -> Stimulate patient, check for residual neuromuscular blockade.</li><li>Provide Supplemental Oxygen. Start with nasal cannula and escalate to face mask or non-rebreather as needed.</li><li>Perform a focused physical exam.<ul><li>Stridor? -> Upper airway obstruction. See Chapter 10.</li><li>Wheezing? -> Bronchospasm. Treat with inhaled beta-agonists (Albuterol).</li><li>Crackles/Rales? -> Pulmonary edema. Sit patient upright, administer diuretics.</li><li>Unilaterally decreased/absent breath sounds? -> Pneumothorax, endobronchial intubation (if still intubated), or massive atelectasis. Obtain Chest X-ray.</li></ul></li><li>Consider Other Causes.<ul><li>Atelectasis (most common): Encourage deep breathing, coughing, use of incentive spirometry.</li><li>Pulmonary Embolism: If hypoxia is refractory or associated with tachycardia/hypotension, maintain high suspicion. Obtain CT Angiogram.</li><li>Hypoventilation: If bradypneic and sedated, consider opioid effect -> Naloxone 40 mcg IV.</li></ul></li><li>If respiratory distress is severe or hypoxia is refractory, escalate to NIPPV or prepare for re-intubation.</li></ol>` },
                    { symptom: "Wheezing and Stridor", content: `<h3>Key Points</h3><ul><li>Stridor is an airway emergency, indicating upper airway obstruction.</li><li>Wheezing indicates lower airway obstruction (bronchoconstriction).</li><li>Distinguish the two: Stridor is a high-pitched inspiratory sound heard best over the neck. Wheezing is a musical, typically expiratory, sound heard best over the chest.</li></ul><h3>Differential Diagnosis of Wheezing and Stridor</h3><table><tr><th>Finding</th><th>Common Causes</th></tr><tr><td>Stridor</td><td>Laryngospasm, laryngeal/subglottic edema, vocal cord paralysis, external compression (hematoma), retained foreign body.</td></tr><tr><td>Wheezing</td><td>Bronchospasm (asthma/COPD exacerbation), anaphylaxis, pulmonary edema ("cardiac asthma").</td></tr></table><h3>Decision Tree: Management of Wheezing and Stridor</h3><p>Patient has audible respiratory noise. Is it Stridor or Wheezing?</p><h4>If STRIDOR (Upper Airway Emergency):</h4><ol><li>Assess severity of obstruction (retractions, cyanosis, ability to move air).</li><li>Administer 100% Oxygen via high-flow face mask, applying CPAP if possible.</li><li>Post-extubation laryngospasm? -> Positive pressure ventilation, deepen sedation (Propofol), or paralyze (Succinylcholine).</li><li>Post-neck surgery? -> High suspicion for hematoma. Call Surgeon/Anesthesia STAT. Prepare for immediate bedside incision drainage and/or difficult airway intubation.</li><li>Signs of anaphylaxis? -> Epinephrine.</li><li>Consider laryngeal edema: Administer racemic epinephrine and IV steroids (Dexamethasone). Be prepared to re-intubate.</li></ol><h4>If WHEEZING (Lower Airway):</h4><ol><li>Administer inhaled beta-agonist (e.g., Albuterol nebulizer or MDI).</li><li>Consider the cause:<ul><li>History of Asthma/COPD? -> Continue bronchodilators, add IV steroids.</li><li>Anaphylaxis suspected? (Hypotension, urticaria) -> Epinephrine.</li><li>Pulmonary Edema suspected? (Crackles, frothy sputum, JVD) -> Diuretics, Nitroglycerin.</li></ul></li></ol>` },
                    { symptom: "Tachypnea and Hypopnea", content: `<h3>Key Points</h3><ul><li>Definition: Tachypnea (>20 breaths/min in adults); Hypopnea (abnormally slow or shallow breathing).</li><li>Significance: These are often the first signs of underlying respiratory or metabolic problems.</li><li>Common Causes: Tachypnea is often a response to hypoxia, hypercarbia, pain, or acidosis. Hypopnea is most often caused by the respiratory depressant effects of opioids and sedatives.</li></ul><h3>Causes of Abnormal Respiratory Rate</h3><table><tr><th>Finding</th><th>Common PACU Causes</th></tr><tr><td>Tachypnea</td><td>Hypoxic: PE, pneumonia, atelectasis, pulmonary edema. Non-Hypoxic: Pain, anxiety, fever, metabolic acidosis (compensatory).</td></tr><tr><td>Hypopnea</td><td>Opioid overdose, residual sedation (anesthetics, benzodiazepines), residual neuromuscular blockade, severe central nervous system depression.</td></tr></table><h3>Decision Tree: Management of Tachypnea and Hypopnea</h3><p>Patient has an abnormal respiratory rate. Is it fast (Tachypnea) or slow/shallow (Hypopnea)?</p><h4>If TACHYPNEA:</h4><ol><li>First, check SpO2. Is the patient hypoxic? Yes: Refer to Hypoxia algorithm (Chapter 9). No: Investigate non-hypoxic causes.<ul><li>Pain? -> Provide analgesia.</li><li>Fever? -> Investigate cause.</li><li>Anxiety? -> Provide reassurance.</li><li>Acidosis suspected? -> Obtain an Arterial Blood Gas (ABG).</li></ul></li></ol><h4>If HYPOPNEA/APNEA:</h4><ol><li>This is a respiratory emergency. Immediately support ventilation with bag-mask and 100% O2.</li><li>Is it opioid-induced? (Pinpoint pupils, recent administration) -> Administer Naloxone 40 mcg IV and titrate to respiratory rate (not consciousness).</li><li>Is there residual neuromuscular blockade? (Generalized weakness) -> Check Train-of-Four (TOF). Consider administering reversal agents.</li><li>Is it residual sedation from other agents? -> Provide stimulation. Consider Flumazenil if benzodiazepines were used.</li><li>If breathing does not improve promptly, prepare for re-intubation.</li></ol>` },
                    { symptom: "Dyspnea", content: `<h3>Key Points</h3><ul><li>Subjective: Dyspnea is the patient's subjective feeling of shortness of breath or "air hunger."</li><li>Broad Differential: Causes can be cardiac, pulmonary, neuromuscular, metabolic, or psychological.</li><li>Emergency First: The initial response must be to rule out and manage immediate life-threats.</li></ul><h3>Differential Diagnosis of Postoperative Dyspnea</h3><table><tr><th>System</th><th>Common Causes</th></tr><tr><td>Pulmonary</td><td>Bronchospasm, Pulmonary Embolism, Pneumothorax, Atelectasis, Aspiration, Upper Airway Obstruction.</td></tr><tr><td>Cardiac</td><td>Acute Coronary Syndrome, Congestive Heart Failure, Tamponade.</td></tr><tr><td>Neuromuscular</td><td>Residual neuromuscular blockade, phrenic nerve palsy.</td></tr><tr><td>Metabolic</td><td>Severe metabolic acidosis (e.g., DKA, sepsis).</td></tr><tr><td>Psychological</td><td>Anxiety, panic attack (diagnosis of exclusion).</td></tr></table><h3>Decision Tree: Management of Postoperative Dyspnea</h3><ol><li>Patient complains of Dyspnea. Assess ABCs immediately. Provide supplemental oxygen. Place patient in an upright position.</li><li>Perform a rapid, focused history and physical exam. Look for key signs: Wheezing? Unilateral decreased breath sounds? Chest pain? JVD? Leg swelling?</li><li>Obtain STAT diagnostic tests: 12-lead ECG, Chest X-ray, ABG.</li><li>Synthesize findings to narrow the differential.<ul><li>Cardiac cause likely? (ECG changes, JVD, crackles) -> See Chest Pain/Heart Failure algorithms.</li><li>Pulmonary cause likely? (Abnormal CXR, wheezing, pleuritic pain) -> See Hypoxia/PE/Pneumothorax algorithms.</li><li>Neuromuscular cause likely? (Generalized weakness after NMBs) -> Assess strength, TOF.</li><li>Metabolic Acidosis on ABG? -> Investigate cause of acidosis (sepsis, DKA).</li></ul></li><li>If initial workup is unrevealing and patient is stable, consider less common causes like anemia or anxiety.</li></ol>` },
                    { symptom: "Delirium", content: `<h3>Key Points</h3><ul><li>Definition: An acute disturbance in attention and cognition with a fluctuating course.</li><li>High-Risk: Elderly patients, those with pre-existing cognitive impairment, and after major surgery.</li><li>Initial Approach: Rule out and correct life-threatening causes, especially hypoxia.</li><li>Management: Non-pharmacological interventions are first-line. Pharmacologic treatment is for severe agitation posing a safety risk.</li></ul><h3>Common Reversible Causes of Postoperative Delirium ("PACU" Mnemonic)</h3><table><tr><th>Letter</th><th>Cause</th></tr><tr><td>P</td><td>Pain</td></tr><tr><td>A</td><td>Anxiety, Alcohol withdrawal</td></tr><tr><td>C</td><td>Constipation / Full Bladder</td></tr><tr><td>U</td><td>Underlying Illness (Hypoxia, Hypoglycemia, Hypotension, Infection)</td></tr></table><h3>Decision Tree: Management of Postoperative Delirium</h3><ol><li>Patient exhibits signs of Delirium. First, rule out life-threats:<ul><li>Hypoxia: Check SpO2, support airway.</li><li>Hypotension: Check BP.</li><li>Hypoglycemia: Check blood glucose.</li></ul></li><li>Search for and treat other common reversible causes: Pain, full bladder, drug effects (especially anticholinergics), withdrawal syndromes.</li><li>If no clear cause and patient is safe, initiate non-pharmacological interventions: Reorientation, reassurance, return glasses/hearing aids, minimize stimuli, family presence.</li><li>If severe agitation poses a safety risk:<ul><li>Administer low-dose antipsychotic: Haloperidol 0.5-2 mg IV/IM. (Check QTc interval).</li><li>Avoid benzodiazepines as they often worsen delirium (exception: alcohol/benzo withdrawal).</li></ul></li></ol>` },
                    { symptom: "Delayed Emergence", content: `<h3>Key Points</h3><ul><li>Definition: Failure to regain consciousness 30-60 minutes after the end of anesthesia.</li><li>Common Causes: Residual drug effects and metabolic disturbances account for most cases.</li><li>Systematic Approach: A stepwise evaluation is necessary to rule out common and life-threatening causes.</li></ul><h3>Causes of Delayed Emergence</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>Pharmacologic</td><td>Residual inhaled/IV anesthetics, Opioids, Benzodiazepines, Residual Neuromuscular Blockade (patient is awake but paralyzed).</td></tr><tr><td>Metabolic</td><td>Hypoglycemia, Hypoxia, Hypercarbia, Severe electrolyte imbalance (Na+), Hypothermia.</td></tr><tr><td>Neurologic</td><td>Stroke (ischemic/hemorrhagic), Seizure (post-ictal state or non-convulsive status epilepticus), Increased intracranial pressure.</td></tr></table><h3>Decision Tree: Management of Delayed Emergence</h3><ol><li>Patient has not emerged from anesthesia. Assess ABCs. Ensure patent airway, adequate ventilation, and stable circulation.</li><li>Rule out common metabolic causes immediately.<ul><li>Check blood glucose. -> If low, give D50W IV.</li><li>Check temperature. -> If hypothermic (<35°C), actively rewarm.</li><li>Obtain ABG to rule out severe hypoxia or hypercarbia.</li></ul></li><li>Consider and reverse residual drug effects.<ul><li>Opioid effect? (Pinpoint pupils, bradypnea) -> Administer Naloxone 40 mcg IV and titrate.</li><li>Benzodiazepine effect? -> Administer Flumazenil 0.2 mg IV (use with caution in chronic users).</li><li>Residual Paralysis? -> Use a peripheral nerve stimulator to check Train-of-Four (TOF). If blockade is present, consider additional reversal agents and maintain ventilation.</li></ul></li><li>If the above are ruled out, suspect a primary neurologic event.<ul><li>Perform a thorough neurologic exam for any focal deficits.</li><li>Obtain an urgent Head CT to rule out hemorrhage.</li><li>Consider EEG to rule out non-convulsive status epilepticus.</li><li>Obtain urgent Neurology consult.</li></ul></li></ol>` },
                    { symptom: "Headache", content: `<h3>Key Points</h3><ul><li>Common Causes: Caffeine withdrawal is the most frequent cause. Medication side effects (e.g., 5-HT3 antagonists) are also common.</li><li>Postdural Puncture Headache (PDPH): Suspect in any patient after spinal or epidural anesthesia, especially if the headache is postural (worse when upright, better when supine).</li><li>Red Flags: A new, severe headache with focal neurological signs, fever, altered mental status, or abrupt "thunderclap" onset requires urgent investigation to rule out serious pathology.</li></ul><h3>Differential Diagnosis of Postoperative Headache</h3><table><tr><th>Category</th><th>Common Causes</th><th>Key Features</th></tr><tr><td>Common/Benign</td><td>Caffeine withdrawal, Medication side effect (Ondansetron), Tension headache, Dehydration.</td><td>History of caffeine use, recent medication, band-like pressure.</td></tr><tr><td>Anesthesia-Related</td><td>Postdural Puncture Headache (PDPH).</td><td>Postural component, history of neuraxial block.</td></tr><tr><td>Serious/Urgent</td><td>Intracranial hemorrhage, Cerebral ischemia/stroke, Meningitis, Severe hypertension, Acute narrow-angle glaucoma.</td><td>Focal neurological deficit, fever, nuchal rigidity, "worst headache of life," eye pain with anisocoria.</td></tr></table><h3>Decision Tree: Management of Postoperative Headache</h3><ol><li>Patient reports a new headache. Assess for "Red Flags." Yes: Obtain urgent non-contrast Head CT and neurology/neurosurgery consult. No: Proceed to step 2.</li><li>Assess for Postural Component. Yes (Worse when sitting/standing): Suspect PDPH.<ul><li>Conservative: Bed rest, hydration, oral caffeine, analgesics.</li><li>Severe/Persistent: Consult anesthesia for consideration of an epidural blood patch.</li></ul>No: Proceed to step 3.</li><li>Evaluate for other common causes.<ul><li>Caffeine withdrawal? -> Provide oral or IV caffeine.</li><li>Medication side effect? -> Treat symptomatically with simple analgesics (Acetaminophen, NSAIDs).</li><li>Dehydration/Hypovolemia? -> Administer IV fluids.</li></ul></li><li>If headache is severe or atypical, maintain a high index of suspicion and consider imaging even without classic red flags.</li></ol>` },
                    { symptom: "Seizure", content: `<h3>Key Points</h3><ul><li>First Action: Protect the patient and manage the airway, breathing, and circulation (ABCs).</li><li>Rule out Critical Causes: Immediately check for and treat Hypoxia, Hypoglycemia, and Local Anesthetic Systemic Toxicity (LAST).</li><li>Mimickers: Not all shaking is a seizure. Differentiate from shivering, rigors, myoclonus, and extrapyramidal reactions.</li><li>Termination: Most postoperative seizures are brief. If prolonged, terminate with IV benzodiazepines.</li></ul><h3>Differential Diagnosis of Postoperative Seizure</h3><table><tr><th>Category</th><th>Common Causes</th></tr><tr><td>Metabolic/Systemic</td><td>Hypoxia, Hypoglycemia, Severe electrolyte disturbance (Na+, Ca++, Mg++), Fever.</td></tr><tr><td>Pharmacologic</td><td>Local Anesthetic Systemic Toxicity (LAST), Pro-convulsant drugs (e.g., meperidine in renal failure), Withdrawal (alcohol, benzodiazepines).</td></tr><tr><td>Neurologic</td><td>Pre-existing epilepsy (subtherapeutic drug levels), Stroke (ischemic/hemorrhagic), Intracranial mass/hemorrhage, Meningitis.</td></tr></table><h3>Decision Tree: Management of Postoperative Seizure</h3><ol><li>Patient has seizure-like activity. IMMEDIATELY: Assess ABCs. Provide 100% O2, assist ventilation if needed, turn patient to side to prevent aspiration. Protect from injury. Call for help.</li><li>Is the seizure continuing? Yes: Administer Lorazepam 2-4 mg IV or Midazolam 2-5 mg IV. No (Post-ictal state): Proceed to step 3.</li><li>IMMEDIATELY investigate and treat critical, reversible causes.<ul><li>Check SpO2. -> Treat hypoxia.</li><li>Check blood glucose. -> If low, give D50W 1 amp IV.</li><li>Recent regional block/local anesthetic infiltration? -> Suspect LAST. Initiate 20% Lipid Emulsion Therapy (1.5 mL/kg bolus).</li></ul></li><li>If the above are negative, send STAT labs (electrolytes, calcium, magnesium, ABG, anticonvulsant levels if applicable).</li><li>Obtain further history: Pre-existing seizure disorder? Alcohol use? High-risk surgery (neurosurgery, cardiac)?</li><li>If etiology remains unclear, obtain an urgent Head CT and Neurology consult. Consider EEG to rule out non-convulsive status epilepticus.</li></ol>` },
                    { symptom: "Rigidity", content: `<h3>Key Points</h3><ul><li>Critical Distinction: Differentiate simple muscular rigidity from rigidity accompanied by hyperthermia, which signals a life-threatening emergency.</li><li>Medication-Related: Most postoperative rigidity is a side effect of anesthetic drugs, particularly high-dose opioids.</li><li>Emergency Syndromes: Malignant Hyperthermia (MH), Neuroleptic Malignant Syndrome (NMS), and Serotonin Syndrome are rare but fatal if missed.</li></ul><h3>Differential Diagnosis of Postoperative Rigidity</h3><table><tr><th>Finding</th><th>Common Causes</th><th>Key Differentiator</th></tr><tr><td>Rigidity + Hyperthermia</td><td>Malignant Hyperthermia (MH), Neuroleptic Malignant Syndrome (NMS), Serotonin Syndrome.</td><td>EMERGENCY. Differentiated by medication history (triggering anesthetics vs. neuroleptics vs. serotonergic agents).</td></tr><tr><td>Rigidity (Normothermic)</td><td>Opioid-induced rigidity ("wooden chest"), Extrapyramidal symptoms (EPS) from anti-emetics, Hypocalcemic tetany.</td><td>No fever. Responds to specific antagonists (Naloxone for opioids, Diphenhydramine for EPS) or calcium.</td></tr></table><h3>Decision Tree: Management of Postoperative Rigidity</h3><ol><li>Patient exhibits muscular rigidity. IMMEDIATELY check core temperature.</li><li>If HYPERTHERMIA is present (Temperature > 38.5°C and rising): This is a hypermetabolic emergency. Call for help. Start active cooling.<ul><li>Recent volatile anesthetics or succinylcholine? -> Suspect MH. Initiate MH protocol, give Dantrolene 2.5 mg/kg IV.</li><li>Recent neuroleptic/dopamine antagonist? -> Suspect NMS. Stop agent, supportive care, consider dantrolene/bromocriptine.</li><li>Recent serotonergic agents? -> Suspect Serotonin Syndrome. Stop agent, supportive care, consider cyproheptadine.</li></ul></li><li>If NORMOTHERMIC:<ul><li>Recent high-dose potent opioid? (e.g., fentanyl, sufentanil) -> Suspect Opioid-Induced Rigidity. If ventilation is impaired, give Naloxone 40-80 mcg IV and support ventilation.</li><li>Recent anti-emetic? (e.g., metoclopramide, prochlorperazine) -> Suspect EPS. Give Diphenhydramine 25-50 mg IV.</li><li>Recent thyroid/parathyroid surgery? -> Suspect Hypocalcemic Tetany. Check ionized Ca++. Give Calcium Gluconate 1-2g IV.</li></ul></li></ol>` },
                    { symptom: "Movement Disorders", content: `<h3>Key Points</h3><ul><li>Commonly Iatrogenic: Most often caused by dopamine-antagonist anti-emetics.</li><li>Types: Include acute dystonia (muscle spasms of face/neck), akathisia (inner restlessness, inability to stay still), and myoclonus (brief, shock-like jerks).</li><li>Usually Benign: While distressing to the patient, most are transient and resolve with treatment.</li></ul><h3>Common Causes of Postoperative Movement Disorders</h3><table><tr><th>Medication Class</th><th>Examples</th><th>Associated Disorder</th></tr><tr><td>Dopamine Antagonists</td><td>Metoclopramide, Prochlorperazine, Droperidol</td><td>Acute dystonia, Akathisia</td></tr><tr><td>Anesthetics</td><td>Propofol, Etomidate</td><td>Myoclonus, Opisthotonus, Dystonia (rare)</td></tr><tr><td>Opioids</td><td>Fentanyl, Hydromorphone</td><td>Myoclonus (especially at high doses)</td></tr></table><h3>Decision Tree: Management of Postoperative Movement Disorders</h3><ol><li>Patient develops an involuntary movement disorder. Assess ABCs. Ensure the movement (e.g., laryngeal dystonia) is not compromising the airway.</li><li>Identify the type of movement.<ul><li>Sustained muscle spasm or twisting (Dystonia)?</li><li>Inability to sit still, inner restlessness (Akathisia)?</li><li>Brief, lightning-like muscle jerks (Myoclonus)?</li></ul></li><li>Review the medication record for causative agents, paying close attention to dopamine antagonists.</li><li>Treat based on the suspected cause and type.<ul><li>Acute Dystonia / Akathisia from Dopamine Antagonist: Administer Diphenhydramine 25-50 mg IV or Benztropine 1-2 mg IV.</li><li>Myoclonus:<ul><li>Post-Etomidate: Benign, self-limiting. Reassurance.</li><li>Opioid-Induced: Usually benign. If severe or persistent, can be treated with small doses of a benzodiazepine.</li></ul></li><li>Propofol-Induced Dystonia/Opisthotonus: Usually resolves spontaneously. If severe, a small dose of a benzodiazepine may help.</li></ul></li></ol>` },
                    { symptom: "Weakness", content: `<h3>Key Points</h3><ul><li>Priority: Inadequate ventilation and inability to protect the airway are emergencies.</li><li>Most Common Cause: Residual neuromuscular blockade (NMB) from muscle relaxants used during surgery.</li><li>Underlying Disease: Weakness can be the first sign of an exacerbation of a neuromuscular disorder like Myasthenia Gravis.</li></ul><h3>Decision Tree: Management of Postoperative Weakness</h3><ol><li>Patient appears weak or has poor respiratory effort. IMMEDIATELY assess airway patency, respiratory rate, and tidal volume. If ventilation is inadequate, provide bag-mask ventilation with 100% O2 and prepare for re-intubation.</li><li>Suspect Residual Neuromuscular Blockade. Use a peripheral nerve stimulator to assess Train-of-Four (TOF) ratio at the adductor pollicis muscle. Fade is present (TOF ratio < 0.9)? -> Administer additional reversal agent (e.g., Neostigmine 0.03-0.07 mg/kg with Glycopyrrolate).</li><li>If NO fade but patient remains clinically weak: Re-evaluate for other causes:<ul><li>Prolonged neuraxial block? -> Assess sensory/motor level.</li><li>Electrolyte abnormality? -> Check K+, Mg++, Ca++, PO4.</li><li>Severe metabolic disturbance? -> Check ABG.</li><li>Exacerbation of underlying disease? (e.g., Myasthenia Gravis, Lambert-Eaton) -> Review patient history.</li></ul></li><li>If weakness is localized to one limb or region, see Chapters on Limb Paralysis and Neuropathy.</li></ol>` },
                    { symptom: "Limb Paralysis", content: `<h3>Key Points</h3><ul><li>EMERGENCY: New postoperative paralysis is a neurological emergency requiring immediate action.</li><li>Top Differentials: Spinal/Epidural Hematoma, Surgical Nerve Injury, Spinal Cord Ischemia, Stroke.</li><li>Time is Critical: Delay in diagnosis and treatment (especially for hematoma) can lead to permanent deficits.</li></ul><h3>Decision Tree: Management of New Postoperative Limb Paralysis</h3><ol><li>New limb paralysis is identified. IMMEDIATELY notify the Attending Surgeon and Anesthesiologist.</li><li>Perform a rapid neurological exam to determine the pattern of deficit:<ul><li>Paraplegia/Quadriplegia? -> Spinal cord level.</li><li>Hemiplegia? -> Cerebral (stroke).</li><li>Monoplegia? -> Peripheral nerve or focal CNS lesion.</li></ul></li><li>Synthesize with perioperative events.<ul><li>Recent Epidural/Spinal? -> Highest suspicion for SPINAL/EPIDURAL HEMATOMA. Prepare for EMERGENT MRI of the spine and neurosurgical consultation for possible decompression.</li><li>Recent Aortic, Thoracic, or Spine Surgery? -> High suspicion for SPINAL CORD ISCHEMIA. Maintain optimal blood pressure. Urgent neurology/surgical consult.</li><li>Recent Peripheral Nerve Block? -> Likely a dense, prolonged block. Monitor for resolution. If unexpectedly dense or prolonged, or if compartment syndrome is suspected, consult anesthesia/surgery.</li><li>Focal deficit with facial involvement? -> High suspicion for STROKE. Activate stroke protocol, obtain urgent Head CT.</li></ul></li></ol>` },
                    { symptom: "Neuropathy", content: `<h3>Key Points</h3><ul><li>Commonly due to Positioning: Nerve compression or stretch during surgery is a leading cause.</li><li>Presentation: Numbness, tingling ("pins and needles"), or weakness in the distribution of a specific nerve.</li><li>Usually Transient: Most positioning-related neuropathies resolve spontaneously over days to weeks.</li></ul><h3>Common Postoperative Neuropathies</h3><table><tr><th>Nerve</th><th>Common Cause</th><th>Presentation</th></tr><tr><td>Ulnar</td><td>Compression at the elbow ("funny bone").</td><td>Numbness/tingling in 4th and 5th fingers, weakness of hand grip.</td></tr><tr><td>Brachial Plexus</td><td>Arm abduction >90 degrees, improper positioning in lateral decubitus.</td><td>Diffuse arm/hand weakness and sensory changes.</td></tr><tr><td>Common Peroneal</td><td>Compression at the fibular head (e.g., in lithotomy position).</td><td>Foot drop, numbness on top of the foot.</td></tr><tr><td>Sciatic</td><td>Compression or stretch in lithotomy position.</td><td>Weakness of knee flexion and all foot/ankle movements, posterior leg numbness.</td></tr></table><h3>Decision Tree: Management of Postoperative Neuropathy</h3><ol><li>Patient reports new numbness, tingling, or localized weakness. Perform a careful sensory and motor exam to map the deficit to a specific nerve distribution.</li><li>Review the anesthetic and surgical record for positioning, use of tourniquets, and regional anesthesia techniques.</li><li>Is the deficit consistent with a known peripheral nerve block? Yes: Reassure patient that this is expected and will resolve as the local anesthetic wears off. Document resolution time. No: Proceed to step 4.</li><li>Is the deficit consistent with a common positioning injury? Yes: Reassure patient that most of these injuries are transient. Protect the limb from further injury. Document the neurological deficit meticulously. Arrange for follow-up. If the deficit is purely sensory, outpatient follow-up is appropriate. If there is significant motor weakness, obtain a Neurology consult.</li></ol>` },
                    { symptom: "Visual Disturbance", content: `<h3>Key Points</h3><ul><li>Most Common: Corneal abrasion (painful) and blurry vision from eye ointment (painless) are the most frequent and benign issues.</li><li>Ophthalmologic Emergency: Acute narrow-angle glaucoma presents with severe eye pain, fixed mid-dilated pupil, and nausea.</li><li>Postoperative Visual Loss (POVL): Painless, catastrophic loss of vision is a rare complication associated with prolonged spine surgery in the prone position and cardiac surgery.</li></ul><h3>Decision Tree: Management of Postoperative Visual Disturbance</h3><ol><li>Patient reports a change in vision. Is there severe eye pain?<ul><li>Yes, with foreign body sensation: Suspect corneal abrasion. Use fluorescein stain to confirm. Treat with lubricating ointment and consider an eye patch.</li><li>Yes, with a red eye, fixed mid-dilated pupil, nausea/vomiting: Suspect ACUTE NARROW-ANGLE GLAUCOMA. This is an emergency. Obtain an urgent Ophthalmology consult.</li></ul></li><li>Is the visual disturbance painless?<ul><li>Blurry vision: Likely from protective eye ointment. Reassure the patient it will clear.</li><li>Diplopia (double vision): Often due to residual muscle relaxant or edema. Usually resolves spontaneously.</li><li>Partial or Complete Loss of Vision (POVL): This is a devastating complication. IMMEDIATELY notify surgeon and anesthesiologist. Maintain normal hemodynamics. Avoid hypotension. Obtain an urgent Ophthalmology and Neurology consult.</li></ul></li></ol>` },
                    { symptom: "Intraoperative Awareness", content: `<h3>Key Points</h3><ul><li>Rare but Traumatic: Explicit recall of events during general anesthesia is rare but can lead to significant psychological distress, including PTSD.</li><li>Listen and Validate: The most important initial step is to listen empathetically and not dismiss the patient's report as "just a dream."</li><li>Anesthesiologist's Role: The primary anesthesiologist who administered the anesthetic must be notified and should interview the patient.</li></ul><h3>Management of a Report of Intraoperative Awareness</h3><ol><li>A patient reports hearing or feeling events during surgery. Acknowledge their concern seriously. Say something like, "That sounds very distressing. Tell me more about what you experienced." Do not offer immediate explanations or dismissals.</li><li>Notify the attending anesthesiologist immediately.</li><li>The anesthesiologist should conduct a structured interview (e.g., Modified Brice Interview) to gather details:<ul><li>"What was the last thing you remember before falling asleep?"</li><li>"What is the first thing you remember after waking up?"</li><li>"Do you recall anything between those two times?"</li><li>"Did you have any dreams during your surgery?"</li></ul></li><li>After gathering information:<ul><li>If it was likely a dream or recall of events before induction or after emergence: Gently provide this explanation and reassure the patient.</li><li>If it was likely a true awareness event: Validate their experience ("I believe you experienced what you are describing."), offer a sincere apology for the distress it caused, explain potential reasons if known (e.g., hemodynamic instability requiring lighter anesthesia), offer referral for psychological counseling, and document the event thoroughly and report to risk management.</li></ul></li></ol>` },
                    { symptom: "Shivering", content: `<h3>Key Points</h3><ul><li>High Incidence: Shivering is very common after both general and neuraxial anesthesia.</li><li>Physiologic Stress: Shivering dramatically increases oxygen consumption and cardiac output.</li><li>Treatment Goal: Provide patient comfort and reduce metabolic stress.</li></ul><h3>Decision Tree: Management of Postoperative Shivering</h3><ol><li>Patient is shivering in PACU. Rule out other causes of shaking: Rigors (sepsis), clonic movements (seizure).</li><li>Assess core temperature.<ul><li>Hypothermic (<36.0°C): Begin active rewarming with a forced-air warmer.</li><li>Normothermic (≥36.0°C): Proceed to pharmacological treatment.</li></ul></li><li>Pharmacological Treatment. Administer Meperidine 12.5-25 mg IV. Contraindication to Meperidine? (MAOI use, renal failure) -> Choose an alternative: Clonidine 30-75 mcg IV or Fentanyl 25-50 mcg IV.</li></ol>` },
                    { symptom: "Hypothermia", content: `<h3>Key Points</h3><ul><li>Common: Anesthetic-induced vasodilation and a cold OR environment frequently lead to hypothermia (core temperature < 36°C).</li><li>Adverse Effects: Hypothermia can cause coagulopathy, increased risk of wound infection, delayed drug metabolism, and adverse cardiac events.</li><li>Management: The primary treatment is active rewarming.</li></ul><h3>Decision Tree: Management of Postoperative Hypothermia</h3><ol><li>Patient arrives in PACU with Temperature < 36.0°C. Initiate active rewarming measures immediately. The most effective method is a forced-air warming device.</li><li>Use warmed cotton blankets for comfort and to reduce radiant heat loss.</li><li>If large volumes of IV fluid are anticipated, ensure they are administered through a fluid warmer.</li><li>Monitor core temperature continuously or intermittently until normothermia (>36.0°C) is achieved.</li><li>If the patient is shivering, refer to the Shivering algorithm (Chapter 24).</li><li>Consider delaying extubation in severely hypothermic patients (<35°C) until they are rewarmed, as they are at higher risk for respiratory depression and cardiac instability.</li></ol>` },
                    { symptom: "Fever, Hyperpyrexia, and Hyperthermia", content: `<h3>Key Points</h3><ul><li>Common Occurrence: Low-grade fever (<38.5°C) in the first 48 hours is usually a benign inflammatory response to surgical stress.</li><li>Atelectasis Myth: The link between postoperative fever and atelectasis is weak; do not attribute persistent or high fevers to this cause.</li><li>Red Flags: High fever (>38.5°C), hemodynamic instability, or mental status changes warrant an immediate workup for serious causes like infection or drug-induced syndromes.</li><li>Rare Emergencies: Malignant Hyperthermia (MH) rarely presents for the first time in the PACU, but recrudescence can occur.</li></ul><h3>Differential Diagnosis of Early Postoperative Fever</h3><table><tr><th>Category</th><th>Common Causes</th><th>Key Features</th></tr><tr><td>Benign/Inflammatory</td><td>Surgical stress response, Aspiration pneumonitis.</td><td>Low-grade fever, stable vital signs.</td></tr><tr><td>Infectious</td><td>Necrotizing fasciitis (rare but early), Sepsis from pre-existing infection, Toxic Shock Syndrome.</td><td>High fever, hypotension, tachycardia, wound changes.</td></tr><tr><td>Drug-Induced</td><td>Malignant Hyperthermia (recrudescence), Neuroleptic Malignant Syndrome, Serotonin Syndrome, Febrile transfusion reaction.</td><td>Hyperthermia, rigidity, autonomic instability.</td></tr><tr><td>Endocrine</td><td>Thyroid storm, Adrenal crisis.</td><td>Extreme tachycardia, hypertension, altered mental status.</td></tr></table><h3>Decision Tree: Management of Postoperative Fever</h3><ol><li>Patient has a fever (Temp > 38.0°C). Assess ABCs and hemodynamic stability.</li><li>Is there extreme hyperthermia (>40°C) and/or muscle rigidity? Yes: This is an emergency. See Rigidity algorithm (Chapter 17) to manage for MH/NMS/Serotonin Syndrome.</li><li>Is the patient hemodynamically unstable (hypotensive, tachycardic)? Yes: Begin sepsis workup (blood cultures, lactate, source investigation) and start broad-spectrum antibiotics after cultures are drawn. Administer fluid resuscitation.</li><li>If patient is stable and fever is low-grade (<38.5°C): Likely due to inflammatory stress response. Provide antipyretics (e.g., Acetaminophen) for patient comfort. Observe. A full fever workup is often low-yield in the first 48 hours unless other signs of infection are present.</li></ol>` },
                    { symptom: "Hypoglycemia", content: `<h3>Key Points</h3><ul><li>Definition: Blood glucose (BG) < 70 mg/dL. Severe is < 40 mg/dL.</li><li>Emergency: Severe hypoglycemia is a neurologic emergency that can rapidly lead to coma and brain injury.</li><li>Primary Cause: Most often iatrogenic in diabetic patients due to insulin or oral hypoglycemics in the setting of perioperative fasting.</li><li>Check the Glucose: Any patient with altered mental status in the PACU requires an immediate point-of-care glucose check.</li></ul><h3>Decision Tree: Management of Postoperative Hypoglycemia</h3><ol><li>Suspect Hypoglycemia (altered mental status, diaphoresis, tachycardia, seizure). Check point-of-care blood glucose immediately.</li><li>If BG < 70 mg/dL: Is the patient awake and able to swallow safely?<ul><li>Yes: Give 15g of simple carbohydrate orally (e.g., juice, glucose tablets).</li><li>No (or NPO): Administer IV Dextrose 50% (D50W), 25g (1 ampule). If no IV access, give Glucagon 1 mg IM.</li></ul></li><li>Recheck blood glucose in 15 minutes. Repeat treatment if still < 70 mg/dL.</li><li>Once BG > 70 mg/dL, provide a complex carbohydrate snack if the patient can eat, or start a dextrose-containing IV fluid to prevent recurrence.</li><li>Investigate the cause: Review insulin/oral agent administration times and doses, diet, and any change in clinical status (e.g., new sepsis, liver failure).</li></ol>` },
                    { symptom: "Hyperglycemia", content: `<h3>Key Points</h3><ul><li>Common: Stress hyperglycemia is a frequent physiologic response to surgery.</li><li>Risks: Persistent hyperglycemia is associated with increased risk of infection, poor wound healing, and adverse cardiovascular events.</li><li>Target Range: For most critically ill patients, a target BG of 140-180 mg/dL is recommended to balance efficacy and hypoglycemia risk.</li><li>T1DM vs. T2DM: Patients with Type 1 Diabetes Mellitus (T1DM) require a continuous source of insulin to prevent diabetic ketoacidosis (DKA).</li></ul><h3>Decision Tree: Management of Postoperative Hyperglycemia</h3><ol><li>Patient has BG > 180 mg/dL. Is this an isolated value or persistent hyperglycemia?<ul><li>Isolated: Recheck in 1-2 hours. May be transient stress response.</li><li>Persistent (2 or more readings > 180 mg/dL): Initiate treatment.</li></ul></li><li>Does the patient have T1DM? Yes: Check for ketones (urine or serum). High suspicion for DKA. Start a continuous IV insulin infusion and manage as per DKA protocol (fluids, electrolyte replacement). Do not use subcutaneous sliding scale alone.</li><li>Patient has T2DM or no history of diabetes. Correction-dose (sliding scale) subcutaneous insulin with a rapid-acting analog (e.g., Lispro, Aspart) is appropriate for mild-moderate hyperglycemia. If BG is severe (>300-400 mg/dL), persistent, or the patient is critically ill, an IV insulin infusion provides superior control and should be initiated.</li></ol>` },
                    { symptom: "Nausea & Vomiting (PONV)", content: `<h3>Key Points</h3><ul><li>Very Common: A leading cause of patient dissatisfaction and delayed PACU discharge.</li><li>Risk-Based Prophylaxis: Use multimodal prophylaxis in high-risk patients (see Apfel score).</li><li>Rescue Therapy: For breakthrough PONV, use an antiemetic from a different mechanistic class than the prophylactic agent(s).</li></ul><h3>Risk Factors & Rescue Therapy</h3><table><tr><th>Apfel Score (High Risk = ≥2)</th><th>Rescue Antiemetic Classes</th></tr><tr><td>• Female Gender<br>• History of PONV/Motion Sickness<br>• Non-smoker<br>• Postoperative Opioids</td><td>• 5-HT3 Antagonist: Ondansetron, Dolasetron<br>• Dopamine Antagonist: Droperidol, Prochlorperazine<br>• Antihistamine: Diphenhydramine<br>• Anticholinergic: Scopolamine (prophylaxis only)<br>• Steroid: Dexamethasone<br>• NK-1 Antagonist: Aprepitant (prophylaxis only)</td></tr></table><h3>Decision Tree: Management of PONV</h3><ol><li>Patient develops Nausea or Vomiting in PACU. Review the anesthetic record. What prophylactic antiemetics did the patient receive?</li><li>If NO prophylaxis was given: Administer a first-line agent: Ondansetron 4 mg IV.</li><li>If prophylaxis WAS given: Identify the drug class. (e.g., Ondansetron is a 5-HT3 antagonist). Administer a rescue agent from a DIFFERENT class.<ul><li>Prophylaxis with Ondansetron -> Rescue with Droperidol 0.625-1.25 mg IV or Dexamethasone 4 mg IV.</li><li>Prophylaxis with Dexamethasone -> Rescue with Ondansetron 4 mg IV.</li></ul></li><li>If PONV persists after a rescue agent from a second class, add an agent from a third class.</li><li>Ensure adequate hydration and pain control, as these can contribute to nausea.</li></ol>` },
                    { symptom: "Electrolyte Disorders", content: `<h3>Key Points</h3><ul><li>Neurologic signs (confusion, weakness, seizure) often point to Sodium abnormalities.</li><li>Cardiac signs (arrhythmias, ECG changes) often point to Potassium and Calcium abnormalities.</li><li>Common Postoperative Causes: GI losses, diuretic use, large volume resuscitation, renal dysfunction, and post-surgical hypoparathyroidism (low Ca++).</li></ul><h3>Common Postoperative Electrolyte Emergencies</h3><table><tr><th>Disorder</th><th>Key Signs</th><th>Immediate Treatment</th></tr><tr><td>Hyperkalemia</td><td>Peaked T-waves, wide QRS, sine wave.</td><td>1. IV Calcium (Gluconate or Chloride) to stabilize membrane.<br>2. Shift K+: Insulin + D50W, Sodium Bicarbonate, Albuterol.<br>3. Remove K+: Furosemide, Kayexalate, Dialysis.</td></tr><tr><td>Severe Hyponatremia</td><td>Seizures, coma.</td><td>Hypertonic Saline (3%) administered slowly and cautiously to raise serum Na+ by a few mEq/L. Avoid rapid correction.</td></tr><tr><td>Symptomatic Hypocalcemia</td><td>Tetany, laryngospasm, prolonged QTc.</td><td>IV Calcium Gluconate 1-2g over 10-20 minutes.</td></tr></table><h3>Decision Tree: Management of Suspected Electrolyte Disorder</h3><ol><li>Patient presents with arrhythmia, weakness, or altered mental status. Send STAT Basic Metabolic Panel (BMP), plus Magnesium and Phosphate.</li><li>If Hyperkalemia with ECG changes is identified -> This is a medical emergency. Begin immediate treatment as outlined in the table above while awaiting lab confirmation.</li><li>If another critical value is reported: Verify it is not a lab error (e.g., hemolyzed sample for K+). Treat the abnormality based on severity and symptoms as outlined in the table.</li><li>Identify and correct the underlying cause (e.g., stop K+-sparing diuretics, replace GI losses).</li></ol>` },
                    { symptom: "Jaundice", content: `<h3>Key Points</h3><ul><li>Rare: Overt jaundice is an uncommon immediate postoperative finding.</li><li>Categorize: Differentiate the cause as pre-hepatic, intra-hepatic, or post-hepatic to guide the workup.</li><li>Labs are Key: Liver function tests (LFTs) with fractionation of bilirubin are essential for diagnosis.</li></ul><h3>Differential Diagnosis of Postoperative Jaundice</h3><table><tr><th>Category</th><th>Common Causes</th><th>Key Lab Findings</th></tr><tr><td>Pre-hepatic (Overproduction)</td><td>Hemolysis (transfusion reaction), Large hematoma reabsorption, Gilbert's syndrome.</td><td>↑ Unconjugated (Indirect) Bilirubin, ↑ LDH, ↓ Haptoglobin. LFTs normal.</td></tr><tr><td>Intra-hepatic (Hepatocellular)</td><td>Ischemic hepatitis ("shock liver"), Drug-induced liver injury (DILI), Viral hepatitis, Alcoholic hepatitis.</td><td>↑ Both Bilirubins, Markedly ↑ AST/ALT.</td></tr><tr><td>Post-hepatic (Obstructive)</td><td>Biliary obstruction from surgical injury, stone, or stricture. Sepsis-induced cholestasis.</td><td>↑ Conjugated (Direct) Bilirubin, Markedly ↑ Alkaline Phosphatase/GGT.</td></tr></table><h3>Decision Tree: Management of Postoperative Jaundice</h3><ol><li>Patient is noted to have new jaundice. Assess hemodynamic stability. Jaundice in the setting of shock may indicate severe liver injury or sepsis.</li><li>Send STAT labs: LFTs (including direct/indirect bilirubin), GGT, CBC, LDH, haptoglobin, coags.</li><li>Analyze the pattern of lab abnormalities.<ul><li>Pre-hepatic pattern? -> Work up for hemolysis. Stop any offending drugs.</li><li>Intra-hepatic pattern? -> Review for hypotensive episodes, check medication list for hepatotoxins, send viral hepatitis panel.</li><li>Post-hepatic/Cholestatic pattern? -> Obtain a Right Upper Quadrant Ultrasound to look for biliary ductal dilation, which indicates obstruction.</li></ul></li><li>Management is directed at the underlying cause. Consult Gastroenterology/Hepatology.</li></ol>` },
                    { symptom: "Pain", content: `<h3>Key Points</h3><ul><li>Pain is the "fifth vital sign" and a primary reason for PACU care. Postoperative pain is often undertreated.</li><li>Multimodal Analgesia is the Standard of Care. This approach combines different classes of analgesics (e.g., opioids, NSAIDs, acetaminophen, regional anesthesia) to improve pain relief while minimizing opioid side effects.</li><li>Assessment is Key. Use a validated pain scale (e.g., Numeric Rating Scale) to assess pain severity and the effectiveness of interventions.</li></ul><h3>WHO Analgesic Ladder (Adapted for PACU)</h3><table><tr><th>Pain Level</th><th>Recommended Approach</th><th>Examples</th></tr><tr><td>Mild (1-3/10)</td><td>Non-opioid analgesics.</td><td>IV/PO Acetaminophen, IV/PO NSAIDs (Ketorolac, Ibuprofen).</td></tr><tr><td>Moderate (4-6/10)</td><td>Non-opioid + weak/low-dose opioid.</td><td>Acetaminophen/NSAID + Oral Hydrocodone/Oxycodone.</td></tr><tr><td>Severe (7-10/10)</td><td>Titrated strong IV opioids + non-opioid base.</td><td>IV Morphine, Hydromorphone, or Fentanyl + IV Acetaminophen/Ketorolac. Consider regional anesthesia.</td></tr></table><h3>Decision Tree: Management of Postoperative Pain</h3><ol><li>Patient arrives in PACU. Assess pain using a numeric rating scale (NRS).</li><li>Review the anesthetic record: What analgesics (including regional blocks) were given intraoperatively?</li><li>If NRS is 7-10 (Severe Pain):<ul><li>Administer small, frequent doses of a titrated IV opioid: Morphine 1-4 mg q 5-10 min, Hydromorphone 0.2-1 mg q 5-10 min, Fentanyl 25-50 mcg q 5-10 min</li><li>Reassess pain and sedation/respiratory status after each dose.</li><li>Administer a non-opioid analgesic (e.g., Ketorolac 15-30 mg IV or Acetaminophen 1g IV) as a baseline.</li></ul></li><li>If NRS is 4-6 (Moderate Pain): Administer a non-opioid (if not already given). Consider a single, larger dose of IV opioid or transition to oral opioids if appropriate for discharge.</li><li>If NRS is 1-3 (Mild Pain): Use non-opioids like Acetaminophen or NSAIDs.</li><li>Is there a working regional block (e.g., epidural, peripheral nerve block)? If pain is present, the block may be inadequate. Bolus the catheter or consult the acute pain service.</li></ol>` },
                    { symptom: "Shoulder Pain", content: `<h3>Key Points</h3><ul><li>Differentiate Referred vs. Intrinsic Pain: The key is to assess if pain is exacerbated by active or passive movement of the shoulder joint itself.</li><li>Laparoscopy is a Common Cause: Referred pain to the shoulder tip (especially the right) is common due to retained CO2 irritating the diaphragm and phrenic nerve.</li><li>Rule out Cardiac Ischemia: New-onset left shoulder pain, especially with other signs like chest pressure or dyspnea, requires an urgent cardiac workup.</li></ul><h3>Decision Tree: Management of Postoperative Shoulder Pain</h3><ol><li>Patient complains of new shoulder pain after non-shoulder surgery. Perform a focused physical exam. Does moving the shoulder joint reproduce or worsen the pain?<ul><li>Yes: Likely intrinsic musculoskeletal pain from intraoperative positioning. Treatment: Reassurance, NSAIDs, rest. Pain is usually self-limited.</li><li>No: Likely referred pain. Proceed to step 3.</li></ul></li><li>Evaluate for common causes of referred pain.<ul><li>Recent Laparoscopic Surgery? Yes: This is the most likely cause (diaphragmatic irritation). Treatment: Reassurance that it is common and will resolve. Treat with NSAIDs.</li><li>No Laparoscopy, and/or pain is on the LEFT side with risk factors for CAD? Yes: Rule out Myocardial Ischemia. Obtain an ECG and Troponin.</li></ul></li><li>Consider other rare causes of diaphragmatic irritation (e.g., subphrenic abscess, pancreatitis) if pain is persistent or associated with systemic signs of illness.</li></ol>` },
                    { symptom: "Pruritus", content: `<h3>Key Points</h3><ul><li>Opioids are the Culprit: Pruritus (itching) is a very common side effect of opioids, especially when administered neuraxially (spinal or epidural).</li><li>Not Histamine-Mediated: Opioid-induced pruritus is centrally mediated, not a true allergic reaction. Antihistamines like diphenhydramine are often ineffective but may be used for their sedative side effect.</li><li>Goal: Relieve itching without reversing analgesia.</li></ul><h3>Differential Diagnosis and Treatment of Postoperative Pruritus</h3><table><tr><th>Cause</th><th>Key Features</th><th>First-Line Treatment</th><th>Second-Line Treatment</th></tr><tr><td>Neuraxial Opioids</td><td>Intense itching, often on the face, neck, and upper torso. No rash.</td><td>Low-dose Naloxone infusion (0.25-1 mcg/kg/hr)</td><td>Nalbuphine 2.5-5 mg IV, Ondansetron 4 mg IV</td></tr><tr><td>Systemic Opioids</td><td>Can be generalized itching. May have some histamine release (e.g., Morphine).</td><td>Can try an antihistamine (Diphenhydramine 12.5-25 mg IV). If ineffective, treat as neuraxial.</td><td>Naloxone, Ondansetron</td></tr><tr><td>Allergic Reaction</td><td>Itching accompanied by urticaria (hives).</td><td>Diphenhydramine 25-50 mg IV. Stop offending agent.</td><td>Epinephrine, Steroids (if severe)</td></tr><tr><td>Cholestasis</td><td>Jaundice, generalized pruritus.</td><td>Ondansetron 4-8 mg IV.</td><td>Rifampin, Naltrexone (longer-term).</td></tr></table><h3>Decision Tree: Management of Postoperative Pruritus</h3><ol><li>Patient complains of itching. Examine the skin. Is there a rash or hives? Yes: Treat as an Allergic Reaction. No: Proceed to step 3.</li><li>Review medication record, especially for opioids.</li><li>Patient receiving epidural or spinal opioids? Yes: This is the most likely cause. Start a low-dose Naloxone infusion or give a small bolus of Nalbuphine.</li><li>Patient receiving IV/PO opioids only? Yes: Can attempt treatment with Diphenhydramine. If no relief, escalate to Naloxone/Nalbuphine.</li><li>Is the patient jaundiced? Yes: Suspect cholestatic pruritus. Ondansetron is often effective.</li></ol>` },
                    { symptom: "Crying", content: `<h3>Key Points</h3><ul><li>Common and often Benign: Emotional lability and crying are frequently seen during emergence from anesthesia and are not necessarily indicative of sadness or distress.</li><li>Rule out Pain: Crying can be a non-verbal sign of severe pain, especially in patients who cannot communicate effectively.</li><li>Rule out Delirium: Disorientation and confusion can be frightening and lead to crying.</li></ul><h3>Decision Tree: Management of a Crying Patient</h3><ol><li>Patient is crying in the PACU. Attempt to communicate with the patient. Ask, "Are you in pain?" Yes, or non-verbally indicates pain: Provide analgesia immediately. Reassess. No: Proceed to step 3.</li><li>Assess cognitive status. Is the patient oriented? Or are they confused/disoriented? Confused/Disoriented: Suspect Emergence Delirium. Management: Provide reorientation and reassurance in a calm environment. See Delirium algorithm (Chapter 13).</li><li>If the patient is lucid but crying: Likely an emotional release or emergence phenomenon. Provide reassurance: "It's very common to feel emotional after surgery. You are safe and the surgery is over." The presence of a family member can be very helpful.</li></ol>` },
                    { symptom: "Oliguria and Urinary Obstruction", content: `<h3>Key Points</h3><ul><li>Definition: Urine output (UOP) < 0.5 mL/kg/hr.</li><li>Rule out Obstruction First: Before assuming a renal or pre-renal cause, always check for a mechanical problem.</li><li>Pre-renal is Most Common: Most oliguria in the PACU is due to relative hypovolemia and responds to a fluid challenge.</li><li>Post-Operative Urinary Retention (POUR): Inability to void despite a full bladder is common, especially after neuraxial anesthesia or pelvic surgery.</li></ul><h3>Decision Tree: Management of Oliguria</h3><ol><li>Patient has UOP < 0.5 mL/kg/hr. Does the patient have a urinary catheter? Yes: Check the tubing for kinks. Flush the catheter to ensure it is not clogged with sediment or a blood clot. No: Proceed to step 3.</li><li>Does the patient feel the urge to void but cannot? Or are they too sedated to assess? Perform a bladder scan.<ul><li>Bladder is distended (> 500-600 mL)? -> Diagnosis is POUR. Perform an in-and-out ("straight") catheterization.</li><li>Bladder is empty? -> Proceed to step 4.</li></ul></li><li>The patient has confirmed low urine production (not retention). Assess volume status and hemodynamics. In most cases, administer a 500 mL crystalloid fluid challenge.</li><li>Reassess UOP after 30-60 minutes.<ul><li>UOP improves: Likely pre-renal cause. Continue fluids as needed.</li><li>UOP does not improve: Consider intrinsic renal injury (e.g., ATN from intraoperative hypotension) or other causes (e.g., SIADH). Send labs (FENa, urine electrolytes) and consult Nephrology if it persists.</li></ul></li></ol>` },
                    { symptom: "Polyuria", content: `<h3>Key Points</h3><ul><li>Definition: Urine output > 4-5 mL/kg/hr.</li><li>Common Cause: Usually iatrogenic from generous intraoperative fluid administration.</li><li>Osmotic Diuresis: Always check a blood glucose to rule out hyperglycemia.</li><li>Neurosurgery/Head Trauma: Polyuria with hypernatremia suggests Diabetes Insipidus (DI). Polyuria with hyponatremia suggests Cerebral Salt Wasting (CSW).</li></ul><h3>Decision Tree: Management of Polyuria</h3><ol><li>Patient has high urine output. Check a point-of-care blood glucose. High? -> Osmotic diuresis from hyperglycemia. Treat with insulin. Replace volume and electrolyte losses. Normal? -> Proceed to step 3.</li><li>Review intraoperative fluid balance and diuretic administration. Was a large volume of fluid given? Was mannitol or furosemide given? Yes: Likely iatrogenic. Monitor volume status and electrolytes, but no specific treatment is usually needed.</li><li>Is there a history of neurosurgery or head trauma? Yes: Send STAT serum electrolytes (esp. Na+), serum and urine osmolality.<ul><li>High serum Na+ & low urine osmolality (<200 mOsm/kg)? -> Likely Central DI. Treatment: Fluid replacement with hypotonic fluids (e.g., D5W) and Desmopressin (DDAVP) 1-2 mcg IV/SC.</li><li>Low serum Na+ & inappropriately high urine osmolality? -> Likely CSW. Treatment: Volume and sodium replacement with isotonic or hypertonic saline.</li></ul></li><li>If polyuria persists without a clear cause, monitor for electrolyte abnormalities and consider less common causes (e.g., recovery phase of ATN).</li></ol>` },
                    { symptom: "Abnormal Urine Color", content: `<h3>Key Points</h3><ul><li>Listen to the Anesthesiologist: Blue or green urine is almost always due to intraoperative dye (Methylene Blue, Indigo Carmine).</li><li>Red/Brown is Concerning: Requires immediate investigation to rule out myoglobinuria (rhabdomyolysis) or hemoglobinuria (hemolysis).</li><li>Propofol: Can cause green, white, or pink urine, which is a benign finding related to its phenolic metabolites.</li></ul><h3>Common Urine Discolorations and Their Significance</h3><table><tr><th>Color</th><th>Common Causes</th><th>Clinical Significance</th><th>Action</th></tr><tr><td>Red / Pink / Brown</td><td>Hematuria, Hemoglobinuria, Myoglobinuria, Rifampin, Beets.</td><td>Potentially serious. Myoglobinuria can cause renal failure.</td><td>Dipstick urine for heme. If positive, check serum CK and plasma free Hgb.</td></tr><tr><td>Green / Blue</td><td>Propofol, Methylene blue, Indigo carmine, Amitriptyline, Pseudomonas UTI.</td><td>Benign. Almost always from medication.</td><td>Reassurance. Review medication record.</td></tr><tr><td>Purple</td><td>Purple Urine Bag Syndrome (UTI with certain bacteria in catheterized patients).</td><td>Indicates UTI.</td><td>Send urinalysis and culture.</td></tr><tr><td>White / Milky</td><td>Propofol infusion, Pyuria, Phosphaturia, Chyluria.</td><td>Usually benign (propofol). Can indicate infection or lymphatic leak.</td><td>Send urinalysis.</td></tr><tr><td>Orange</td><td>Rifampin, Pyridium, Dehydration, Jaundice (bilirubin).</td><td>Usually benign medication effect.</td><td>Review medication record.</td></tr></table>` },
                    { symptom: "Rash", content: `<h3>Key Points</h3><ul><li>Assess for Systemic Signs: A simple rash is benign. A rash with hypotension, bronchospasm, or angioedema is anaphylaxis and a medical emergency.</li><li>Drug Eruption: The most common cause is a simple maculopapular drug eruption that will resolve on its own.</li><li>Urticaria (Hives): Suggests a Type I allergic reaction.</li><li>Blistering/Mucosal Involvement: A rare but life-threatening sign of Stevens-Johnson Syndrome (SJS) / Toxic Epidermal Necrolysis (TEN).</li></ul><h3>Decision Tree: Management of Postoperative Rash</h3><ol><li>Patient develops a new rash. IMMEDIATELY assess ABCs. Is there any sign of anaphylaxis? (Hypotension, wheezing, angioedema, stridor). Yes: Treat for Anaphylaxis. Epinephrine 0.3-0.5 mg IM (or titrated IV doses of 10-100 mcg). Stop any potential offending agents (e.g., antibiotic infusion). Administer IV fluids, Diphenhydramine, and Steroids. No: Proceed to step 3.</li><li>Characterize the rash.<ul><li>Urticarial (Hives): Likely a milder allergic reaction. Treatment: Diphenhydramine 25-50 mg IV.</li><li>Maculopapular (Red, flat or slightly raised spots): Benign drug eruption. Treatment: Symptomatic relief with topical steroids or oral antihistamines. Usually requires no acute intervention.</li><li>Petechial/Purpuric (Non-blanching red/purple spots): Consider thrombocytopenia, vasculitis, or fat embolism (axillary/chest petechiae).</li><li>Blistering with mucosal involvement (eyes, mouth): Suspect SJS/TEN. This is an emergency. Stop all non-essential drugs. Obtain urgent Dermatology and/or Burn Unit consult.</li></ul></li></ol>` },
                    { symptom: "Dysphonia and Airway Trauma", content: `<h3>Key Points</h3><ul><li>Sore throat is extremely common after endotracheal intubation and is benign.</li><li>Hoarseness or a "breathy" voice is more concerning and may indicate recurrent laryngeal nerve (RLN) injury or arytenoid cartilage dislocation.</li><li>Stridor signals significant edema or hematoma and is an airway emergency.</li></ul><h3>Decision Tree: Management of Postoperative Voice Change/Throat Pain</h3><ol><li>Patient complains of sore throat or has voice changes after extubation. Evaluate symptoms.</li><li>Mild sore throat, normal voice: This is expected. Treatment: Reassurance, ice chips, lozenges.</li><li>Hoarseness, "breathy" or weak voice: Suspect RLN palsy or arytenoid dislocation. Assess for aspiration risk (e.g., coughing with sips of water). Obtain an ENT consult for flexible laryngoscopy.</li><li>Stridor (inspiratory noise): This is an airway emergency. See Stridor algorithm (Chapter 10). High suspicion for laryngeal edema or compressing hematoma (after neck surgery).</li></ol>` },
                    { symptom: "Mechanical Ventilation", content: `<h3>Key Points</h3><ul><li>Common Indications in PACU: Reversal of conditions that prevented safe extubation in the OR, such as residual neuromuscular blockade, severe hypothermia, or delayed emergence.</li><li>Goal-Directed Sedation: Sedation should be titrated to allow for prompt awakening and weaning once the underlying issue is resolved.</li><li>Monitor for Complications: Positive pressure ventilation can cause hypotension, especially in hypovolemic patients. Monitor for pneumothorax and auto-PEEP.</li></ul><h3>Common Reasons for Continued Postoperative Ventilation</h3><ul><li>Respiratory Failure: Hypoxemic or hypercarbic failure from causes like ARDS, severe pneumonia, pulmonary edema, or COPD exacerbation.</li><li>Airway Protection: Upper airway edema (e.g., after major neck/airway surgery), risk of obstruction from hematoma, or obtundation.</li><li>Hemodynamic Instability: Severe shock requiring high-dose vasopressors where the work of breathing would be detrimental.</li><li>Planned Staged Procedures: Patient will be returning to the OR shortly.</li></ul>` },
                    { symptom: "The Pediatric Patient", content: `<h3>Key Points</h3><ul><li>Vital Signs Vary with Age. Know the normal ranges for heart rate and respiratory rate for different age groups.</li><li>Pain Assessment is Different. Use age-appropriate scales (e.g., FLACC for infants, Faces for young children).</li><li>Emergence Delirium is Common. Differentiate this agitated but non-purposeful state from pain. Parental presence is often the best treatment.</li><li>Laryngospasm Risk is Higher. Be prepared with positive pressure oxygen and airway equipment.</li></ul><h3>Key Differences in Pediatric PACU Care</h3><ul><li>Dosing: All medications are dosed by weight (mg/kg).</li><li>Fluid Management: Maintenance fluids are calculated by weight (4-2-1 rule). Dehydration occurs more rapidly.</li><li>Airway: Infants are obligate nose breathers. The larynx is more cephalad and funnel-shaped.</li><li>PONV: Risk is high, especially after strabismus surgery, tonsillectomy, or orchiopexy.</li></ul>` },
                    { symptom: "The Pregnant Patient", content: `<h3>Key Points</h3><ul><li>Two Patients: Management must consider both maternal and fetal well-being.</li><li>Aortocaval Compression: After 20 weeks gestation, maintain left uterine displacement to prevent supine hypotension.</li><li>Increased Aspiration Risk: Maintain a low threshold for securing the airway.</li><li>Hypercoagulable State: High risk for DVT/PE. Ensure prophylaxis is in place.</li></ul><h3>Key Considerations in Pregnant PACU Patients</h3><ul><li>Fetal Monitoring: For a viable fetus (>23-24 weeks), continuous electronic fetal heart rate and contraction monitoring is indicated.</li><li>Drug Choices: Refer to FDA pregnancy categories. Most opioids and common anti-emetics are considered acceptable for short-term use. Avoid NSAIDs in the third trimester.</li><li>Hypotension: Treat aggressively with fluids and vasopressors (phenylephrine or ephedrine) to maintain uteroplacental perfusion.</li><li>Preterm Labor: Any new contractions should be reported to the obstetrician immediately. Tocolytics may be required.</li></ul>` },
                    { symptom: "Patients with Implanted Cardiac Devices", content: `<h3>Key Points</h3><ul><li>Know the Device: Is it a Pacemaker (PPM), an Implantable Cardioverter-Defibrillator (ICD), or a Ventricular Assist Device (VAD)?</li><li>Post-op Interrogation: If a device was reprogrammed or a magnet was applied intraoperatively, it must be interrogated and restored to its baseline settings before the patient leaves the PACU.</li><li>LVAD Patients are Unique: They often have no palpable pulse or reliable SpO2/NIBP readings. MAP by Doppler and monitoring pump parameters are key.</li></ul><h3>Management of Patients with PPM/ICD</h3><ul><li>Monitor for appropriate pacing (if required) and sensing.</li><li>Be aware that magnet application over an ICD disables tachyarrhythmia therapies. The magnet must be removed and the device re-checked.</li><li>If external defibrillation is required, place pads as far from the device as possible (anterior-posterior is preferred).</li></ul>` },
                    { symptom: "The Morbidly Obese Patient", content: `<h3>Key Points</h3><ul><li>Airway and Respiration are Paramount. These patients have decreased FRC, are prone to atelectasis and hypoxia, and have a high incidence of Obstructive Sleep Apnea (OSA).</li><li>Positioning is Key: Maintain the patient in a head-up or reverse Trendelenburg position to improve respiratory mechanics. Avoid the supine position.</li><li>Opioid Sparing: Use multimodal analgesia to minimize the risk of opioid-induced respiratory depression.</li><li>OSA Management: Patients with known OSA should use their home CPAP/BiPAP device in the PACU.</li></ul><h3>Key Considerations for Morbidly Obese Patients</h3><ul><li>Monitoring: Blood pressure cuff size is critical for accuracy; a forearm cuff may be needed.</li><li>Drug Dosing: Dosing can be complex. Hydrophilic drugs are often based on ideal body weight, while lipophilic drugs may require dosing based on total body weight. Titrate all drugs to effect.</li><li>Thromboembolism: High risk for DVT/PE; ensure chemical and mechanical prophylaxis are ordered and applied.</li></ul>` },
                    { symptom: "The Renal Failure Patient", content: `<h3>Key Points</h3><ul><li>Drug Clearance is Altered: Avoid or adjust doses of renally-cleared drugs and their active metabolites.</li><li>Avoid Nephrotoxins: NSAIDs and certain antibiotics should be used with extreme caution or avoided.</li><li>Electrolyte and Fluid Balance: These patients are at high risk for hyperkalemia and fluid overload.</li><li>AV Fistula/Graft: NEVER use the access arm for IVs, blood draws, or blood pressure measurements.</li></ul><h3>Key Considerations for Renal Failure Patients</h3><h4>Pain Management:</h4><ul><li>Safe: Fentanyl, Hydromorphone, Acetaminophen.</li><li>Use with Caution: Oxycodone.</li><li>AVOID: Morphine, Meperidine, Codeine, Tramadol (active metabolites accumulate). NSAIDs.</li></ul><h4>Hyperkalemia:</h4><p>A new peaked T-wave is an emergency.</p><h4>Fluid Management:</h4><p>Fluid resuscitation should be judicious. They may require dialysis for fluid removal.</p>` },
                    { symptom: "Complex Pain Management", content: `<h3>Key Points</h3><ul><li>Opioid-Tolerant Patients: Have higher baseline opioid requirements and may develop hyperalgesia. The goal is to manage acute surgical pain on top of their chronic pain needs.</li><li>Multimodal is Essential: The use of non-opioid adjuncts and regional anesthesia is critical in all complex pain patients.</li><li>Individualize Care: There is no one-size-fits-all approach.</li></ul><h3>Strategies for Complex Pain Populations</h3><h4>Opioid-Tolerant:</h4><ul><li>Continue their baseline home opioid dose (convert to parenteral equivalent).</li><li>Provide additional opioids for acute surgical pain (often via PCA).</li><li>Add non-opioid adjuncts like Ketamine, Lidocaine infusions, Clonidine, and Gabapentinoids.</li></ul><h4>Obstructive Sleep Apnea (OSA):</h4><ul><li>Prioritize regional anesthesia.</li><li>Maximize non-opioid analgesics.</li><li>If using PCA, avoid basal infusions.</li><li>Monitor with continuous pulse oximetry and/or capnography.</li></ul><h4>Chronic Kidney Disease (CKD):</h4><ul><li>Choose opioids with safe metabolites (Fentanyl, Hydromorphone).</li><li>Avoid NSAIDs.</li><li>Acetaminophen and regional anesthesia are excellent options.</li></ul>` },
                    { symptom: "PACU Emergencies", content: `<h3>Key Points</h3><ul><li>Always start with the ABCs.</li><li>Call for help early.</li><li>Have a low threshold for re-intubation if the airway or ventilation is compromised.</li><li>Think about common, reversible perioperative causes first.</li></ul><h3>Rapid Response Guide to PACU Emergencies</h3><table><tr><th>Emergency</th><th>Key Signs</th><th>Immediate Actions</th></tr><tr><td>Airway Obstruction/Laryngospasm</td><td>Stridor, retractions, desaturation.</td><td>Jaw thrust, 100% O2 with CPAP, consider Propofol/Succinylcholine, prepare to re-intubate.</td></tr><tr><td>Respiratory Arrest</td><td>Apnea, cyanosis.</td><td>Bag-mask ventilate, Naloxone if opioid OD suspected, intubate.</td></tr><tr><td>Cardiac Arrest</td><td>Unresponsive, no pulse.</td><td>Start CPR. Follow ACLS, but consider and treat reversible perioperative causes (Hemorrhage, Tension Pneumothorax, Tamponade, LAST).</td></tr><tr><td>Anaphylaxis</td><td>Hypotension, bronchospasm, urticaria.</td><td>Epinephrine. IV Fluids, Diphenhydramine, Steroids.</td></tr><tr><td>Malignant Hyperthermia</td><td>Unexplained tachycardia, hypercarbia, rigidity, rapid temperature rise.</td><td>Call for help/MH cart. Stop triggers, hyperventilate with 100% O2, give Dantrolene, start active cooling.</td></tr><tr><td>Local Anesthetic Systemic Toxicity</td><td>Seizure, arrhythmia, cardiovascular collapse after regional block.</td><td>Initiate 20% Lipid Emulsion Therapy. Support ABCs, treat seizures with benzodiazepines.</td></tr></table>` },
                ],
                init() {
                    this.cacheDOMElements();
                    this.elements.searchInput.addEventListener('keyup', () => this.handleSearch());
                    document.addEventListener('click', (event) => this.hideSuggestions(event));
                },
                cacheDOMElements() {
                    this.elements = {
                        searchInput: document.getElementById('pacu-search'),
                        suggestionsBox: document.getElementById('suggestions-box'),
                        resultDisplay: document.getElementById('pacu-result-display'),
                    };
                },
                stripHtml(html) {
                    let tmp = document.createElement("DIV");
                    tmp.innerHTML = html;
                    return tmp.textContent || tmp.innerText || "";
                },
                handleSearch() {
                    const query = this.elements.searchInput.value.toLowerCase().trim();
                    this.elements.suggestionsBox.innerHTML = '';
                    if (query.length < 2) {
                        this.elements.suggestionsBox.classList.add('hidden');
                        return;
                    }

                    const searchRegex = new RegExp(query.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'), 'gi');

                    const rankedSymptoms = this.data.map(item => {
                        const plainContent = this.stripHtml(item.content);
                        const titleMatches = (item.symptom.match(searchRegex) || []).length;
                        const contentMatches = (plainContent.match(searchRegex) || []).length;
                        
                        const score = (titleMatches * 10) + contentMatches;

                        return { ...item, score };
                    })
                    .filter(item => item.score > 0)
                    .sort((a, b) => b.score - a.score);


                    if (rankedSymptoms.length > 0) {
                        rankedSymptoms.slice(0, 10).forEach(item => { // Show top 10 results
                            const suggestionDiv = document.createElement('div');
                            suggestionDiv.textContent = item.symptom;
                            suggestionDiv.className = 'p-2 hover:bg-gray-100 cursor-pointer';
                            suggestionDiv.addEventListener('click', () => {
                                this.displaySymptom(item);
                                this.elements.searchInput.value = item.symptom;
                                this.elements.suggestionsBox.classList.add('hidden');
                            });
                            this.elements.suggestionsBox.appendChild(suggestionDiv);
                        });
                        this.elements.suggestionsBox.classList.remove('hidden');
                    } else {
                        this.elements.suggestionsBox.classList.add('hidden');
                    }
                },
                displaySymptom(symptom) {
                    this.elements.resultDisplay.innerHTML = `
                        <h3 class="text-xl font-bold mb-4 text-gray-800">${symptom.symptom}</h3>
                        <div class="pacu-content">${symptom.content}</div>
                    `;
                    this.elements.resultDisplay.classList.remove('hidden');
                },
                hideSuggestions(event) {
                    if (!this.elements.searchInput.contains(event.target) && !this.elements.suggestionsBox.contains(event.target)) {
                        this.elements.suggestionsBox.classList.add('hidden');
                    }
                }
            }
        };

        // --- START THE APP ---
        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
</body>
</html>

